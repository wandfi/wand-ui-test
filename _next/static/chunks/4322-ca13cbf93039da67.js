(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4322],{46601:function(){},30665:function(t,e,n){"use strict";n.d(e,{SH:function(){return r},nq:function(){return a},aT:function(){return i},S4:function(){return s},WW:function(){return u},Wn:function(){return p}});var a=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],i=[{inputs:[{internalType:"uint256",name:"yieldsAmount",type:"uint256"}],name:"addMatchingYields",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"yieldsAmount",type:"uint256"}],name:"addStakingYields",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"claimAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"earnedMatchedToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"earnedMatchingYields",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"earnedStakingYields",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"exit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAccruedMatchingYields",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMatchingOutTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getMatchingTokensAndYields",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getMatchingYields",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"stakingShares",type:"uint256"}],name:"getStakingBalanceByShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"stakingBalance",type:"uint256"}],name:"getStakingSharesByBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStakingYields",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"machingYieldsToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assetAmountAdded",type:"uint256"}],name:"notifyBuyLowTriggered",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"assetAmountMatched",type:"uint256"},{internalType:"uint256",name:"usbSharesReceived",type:"uint256"}],name:"notifySellHighTriggered",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"settings",outputs:[{internalType:"contract IProtocolSettings",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"stake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"stakingToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"stakingYieldsToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"targetToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalStakingBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalStakingShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"userStakingBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"userStakingShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"vault",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"wandProtocol",outputs:[{internalType:"contract IWandProtocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],u=[{inputs:[],name:"AARBelowCircuitBreakerLineTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"AARBelowSafeLineTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"AARDecimals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"assetBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"assetToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"assetTokenDecimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"assetTokenPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"marginToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"mintMarginTokensBelowAARS",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"mintPairs",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"mintUsbAboveAARU",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"param",type:"bytes32"}],name:"paramValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauseMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pauseRedeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceFeed",outputs:[{internalType:"contract IPriceFeed",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"ptyPoolBuyLow",outputs:[{internalType:"contract IPtyPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"ptyPoolSellHigh",outputs:[{internalType:"contract IPtyPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"marginTokenAmount",type:"uint256"}],name:"redeemByMarginTokenAboveAARU",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"marginTokenAmount",type:"uint256"}],name:"redeemByPairsWithExpectedMarginTokenAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"redeemByPairsWithExpectedUsbAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"redeemByUsbBelowAARS",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_ptyPoolBuyLow",type:"address"},{internalType:"address",name:"_ptyPoolSellHigh",type:"address"}],name:"setPtyPools",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"settings",outputs:[{internalType:"contract IProtocolSettings",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenPot",outputs:[{internalType:"contract TokenPot",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpauseMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpauseRedeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"usbToMarginTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usbToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"usbTotalShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"usbTotalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"vaultMode",outputs:[{internalType:"enum Constants.VaultMode",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"vaultType",outputs:[{internalType:"enum Constants.VaultType",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[],name:"wandProtocol",outputs:[{internalType:"contract IWandProtocol",name:"",type:"address"}],stateMutability:"view",type:"function"}],p=[{inputs:[{internalType:"contract Vault",name:"vault",type:"address"}],name:"AAR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Vault",name:"vault",type:"address"},{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"calcMintMarginTokensBelowAARS",outputs:[{components:[{internalType:"uint256",name:"M_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_ETH",type:"uint256"},{internalType:"uint256",name:"M_ETHx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AART",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARU",type:"uint256"},{internalType:"uint256",name:"AARC",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"},{internalType:"uint256",name:"AARBelowCircuitBreakerLineTime",type:"uint256"}],internalType:"struct Constants.VaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract StableVault",name:"vault",type:"address"},{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"calcMintMarginTokensFromStableVault",outputs:[{components:[{internalType:"uint256",name:"M_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_USDC",type:"uint256"},{internalType:"uint256",name:"M_USDCx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"}],internalType:"struct Constants.StableVaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Vault",name:"vault",type:"address"},{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"calcMintPairs",outputs:[{components:[{internalType:"uint256",name:"M_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_ETH",type:"uint256"},{internalType:"uint256",name:"M_ETHx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AART",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARU",type:"uint256"},{internalType:"uint256",name:"AARC",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"},{internalType:"uint256",name:"AARBelowCircuitBreakerLineTime",type:"uint256"}],internalType:"struct Constants.VaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract StableVault",name:"vault",type:"address"},{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"calcMintPairsFromStableVault",outputs:[{components:[{internalType:"uint256",name:"M_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_USDC",type:"uint256"},{internalType:"uint256",name:"M_USDCx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"}],internalType:"struct Constants.StableVaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Vault",name:"vault",type:"address"},{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"calcMintUsbAboveAARU",outputs:[{components:[{internalType:"uint256",name:"M_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_ETH",type:"uint256"},{internalType:"uint256",name:"M_ETHx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AART",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARU",type:"uint256"},{internalType:"uint256",name:"AARC",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"},{internalType:"uint256",name:"AARBelowCircuitBreakerLineTime",type:"uint256"}],internalType:"struct Constants.VaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract StableVault",name:"vault",type:"address"},{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"calcMintUsbFromStableVault",outputs:[{components:[{internalType:"uint256",name:"M_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_USDC",type:"uint256"},{internalType:"uint256",name:"M_USDCx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"}],internalType:"struct Constants.StableVaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Vault",name:"vault",type:"address"},{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"calcPairdMarginTokenAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract StableVault",name:"vault",type:"address"},{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"calcPairdMarginTokenAmountForStableVault",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Vault",name:"vault",type:"address"},{internalType:"uint256",name:"marginTokenAmount",type:"uint256"}],name:"calcPairedRedeemAssetAmount",outputs:[{components:[{internalType:"uint256",name:"M_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_ETH",type:"uint256"},{internalType:"uint256",name:"M_ETHx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AART",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARU",type:"uint256"},{internalType:"uint256",name:"AARC",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"},{internalType:"uint256",name:"AARBelowCircuitBreakerLineTime",type:"uint256"}],internalType:"struct Constants.VaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Vault",name:"vault",type:"address"},{internalType:"uint256",name:"marginTokenAmount",type:"uint256"}],name:"calcPairedUsbAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract StableVault",name:"vault",type:"address"},{internalType:"uint256",name:"marginTokenAmount",type:"uint256"}],name:"calcPairedUsbAmountForStableVault",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Vault",name:"vault",type:"address"},{internalType:"uint256",name:"marginTokenAmount",type:"uint256"}],name:"calcRedeemByMarginTokenAboveAARU",outputs:[{components:[{internalType:"uint256",name:"M_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_ETH",type:"uint256"},{internalType:"uint256",name:"M_ETHx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AART",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARU",type:"uint256"},{internalType:"uint256",name:"AARC",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"},{internalType:"uint256",name:"AARBelowCircuitBreakerLineTime",type:"uint256"}],internalType:"struct Constants.VaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract StableVault",name:"vault",type:"address"},{internalType:"contract IProtocolSettings",name:"settings",type:"address"},{internalType:"uint256",name:"marginTokenAmount",type:"uint256"}],name:"calcRedeemByMarginTokensFromStableVault",outputs:[{components:[{internalType:"uint256",name:"M_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_USDC",type:"uint256"},{internalType:"uint256",name:"M_USDCx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"}],internalType:"struct Constants.StableVaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract StableVault",name:"vault",type:"address"},{internalType:"contract IProtocolSettings",name:"settings",type:"address"},{internalType:"uint256",name:"marginTokenAmount",type:"uint256"}],name:"calcRedeemByPairsAssetAmountForStableVault",outputs:[{components:[{internalType:"uint256",name:"M_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_USDC",type:"uint256"},{internalType:"uint256",name:"M_USDCx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"}],internalType:"struct Constants.StableVaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Vault",name:"vault",type:"address"},{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"calcRedeemByUsbBelowAARS",outputs:[{components:[{internalType:"uint256",name:"M_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_ETH",type:"uint256"},{internalType:"uint256",name:"M_ETHx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AART",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARU",type:"uint256"},{internalType:"uint256",name:"AARC",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"},{internalType:"uint256",name:"AARBelowCircuitBreakerLineTime",type:"uint256"}],internalType:"struct Constants.VaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract StableVault",name:"vault",type:"address"},{internalType:"contract IProtocolSettings",name:"settings",type:"address"},{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"calcRedeemByUsbFromStableVault",outputs:[{components:[{internalType:"uint256",name:"M_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_USDC",type:"uint256"},{internalType:"uint256",name:"M_USDCx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"}],internalType:"struct Constants.StableVaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Vault",name:"vault",type:"address"},{internalType:"contract IProtocolSettings",name:"settings",type:"address"},{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"calcUsbToMarginTokens",outputs:[{components:[{internalType:"uint256",name:"M_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_ETH",type:"uint256"},{internalType:"uint256",name:"M_ETHx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AART",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARU",type:"uint256"},{internalType:"uint256",name:"AARC",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"},{internalType:"uint256",name:"AARBelowCircuitBreakerLineTime",type:"uint256"}],internalType:"struct Constants.VaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract StableVault",name:"vault",type:"address"},{internalType:"contract IProtocolSettings",name:"settings",type:"address"},{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"calcUsbToMarginTokensForStableVault",outputs:[{components:[{internalType:"uint256",name:"M_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_USDC",type:"uint256"},{internalType:"uint256",name:"M_USDCx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"}],internalType:"struct Constants.StableVaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract StableVault",name:"vault",type:"address"}],name:"getStableVaultState",outputs:[{components:[{internalType:"uint256",name:"M_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_USDC",type:"uint256"},{internalType:"uint256",name:"M_USDCx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"}],internalType:"struct Constants.StableVaultState",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Vault",name:"vault",type:"address"}],name:"getVaultState",outputs:[{components:[{internalType:"uint256",name:"M_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_ETH",type:"uint256"},{internalType:"uint256",name:"M_ETHx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AART",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARU",type:"uint256"},{internalType:"uint256",name:"AARC",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"},{internalType:"uint256",name:"AARBelowCircuitBreakerLineTime",type:"uint256"}],internalType:"struct Constants.VaultState",name:"",type:"tuple"}],stateMutability:"view",type:"function"}],s=[{inputs:[],name:"AARBelowCircuitBreakerLineTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"AARBelowSafeLineTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"AARDecimals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"assetBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"assetToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"assetTokenDecimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"assetTokenPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"marginToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"mintMarginTokens",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"mintPairs",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"mintUsb",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"param",type:"bytes32"}],name:"paramValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauseMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pauseRedeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceFeed",outputs:[{internalType:"contract IPriceFeed",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"marginTokenAmount",type:"uint256"}],name:"redeemByMarginTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"marginTokenAmount",type:"uint256"}],name:"redeemByPairsWithExpectedMarginTokenAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"redeemByPairsWithExpectedUsbAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"redeemByUsb",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"settings",outputs:[{internalType:"contract IProtocolSettings",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenPot",outputs:[{internalType:"contract TokenPot",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpauseMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpauseRedeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"usbToMarginTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usbToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"usbTotalShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"usbTotalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"vaultMode",outputs:[{internalType:"enum Constants.VaultMode",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[],name:"vaultType",outputs:[{internalType:"enum Constants.VaultType",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[],name:"wandProtocol",outputs:[{internalType:"contract IWandProtocol",name:"",type:"address"}],stateMutability:"view",type:"function"}],r=[{inputs:[],name:"CalldataMustHaveValidPayload",type:"error"},{inputs:[],name:"CalldataOverOrUnderFlow",type:"error"},{inputs:[],name:"CanNotPickMedianOfEmptyArray",type:"error"},{inputs:[],name:"DataPackageTimestampMustNotBeZero",type:"error"},{inputs:[],name:"DataPackageTimestampsMustBeEqual",type:"error"},{inputs:[],name:"EachSignerMustProvideTheSameValue",type:"error"},{inputs:[],name:"EmptyCalldataPointersArr",type:"error"},{inputs:[],name:"GetDataServiceIdNotImplemented",type:"error"},{inputs:[],name:"IncorrectUnsignedMetadataSize",type:"error"},{inputs:[{internalType:"uint256",name:"receivedSignersCount",type:"uint256"},{internalType:"uint256",name:"requiredSignersCount",type:"uint256"}],name:"InsufficientNumberOfUniqueSigners",type:"error"},{inputs:[],name:"InvalidCalldataPointer",type:"error"},{inputs:[],name:"RedstonePayloadMustHaveAtLeastOneDataPackage",type:"error"},{inputs:[{internalType:"address",name:"receivedSigner",type:"address"}],name:"SignerNotAuthorised",type:"error"},{inputs:[{internalType:"uint256",name:"receivedTimestampSeconds",type:"uint256"},{internalType:"uint256",name:"blockTimestamp",type:"uint256"}],name:"TimestampFromTooLongFuture",type:"error"},{inputs:[{internalType:"uint256",name:"receivedTimestampSeconds",type:"uint256"},{internalType:"uint256",name:"blockTimestamp",type:"uint256"}],name:"TimestampIsTooOld",type:"error"},{inputs:[{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"aggregateValues",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[],name:"extractTimestampsAndAssertAllAreEqual",outputs:[{internalType:"uint256",name:"extractedTimestamp",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"signerAddress",type:"address"}],name:"getAuthorisedSignerIndex",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDataServiceId",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getUniqueSignersThreshold",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"dataFeedId",type:"bytes32"},{internalType:"bytes",name:"",type:"bytes"}],name:"latestPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"receivedTimestampMilliseconds",type:"uint256"}],name:"validateTimestamp",outputs:[],stateMutability:"view",type:"function"}]},91056:function(t,e,n){"use strict";n.d(e,{Af:function(){return s},BV:function(){return getCurrentChainId},ON:function(){return y},WA:function(){return isBlast},dm:function(){return u},rv:function(){return setCurrentChainId}});var a=n(75398),i=n(71186);let u=(0,i.a)({id:168587773,name:"Blast Sepolia",network:"blast sepolia",testnet:!0,nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},iconUrl:"https://blast.io/favicon.svg",iconBackground:"#000",rpcUrls:{default:{http:["https://sepolia.blast.io"]},public:{http:["https://sepolia.blast.io"]}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:756690}}}),p=[u],s=[...p,a.F],r={id:a.F.id},getCurrentChainId=()=>r.id,setCurrentChainId=t=>{s.find(e=>e.id==t)&&(r.id=t)};function isBlast(){return!!p.find(t=>t.id==getCurrentChainId())}let y={}},72009:function(t,e,n){"use strict";n.d(e,{K8:function(){return p},O1:function(){return u},O6:function(){return s},e_:function(){return r},iK:function(){return y}});var a=n(26266),i=n(91056);let u={[a.Fo.id]:"0xaF486b0d7F0d325dea11654146cb49CBe9A34045",[i.dm.id]:"0xA66BC864Cc4C59570316217801686c3A29bD9783"},p="0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",s={[a.Fo.id]:"0x99FE26697c374F552ADb0D8BC84C576aD3786eAc",[i.dm.id]:"0x43A00D4BB051A9338A3444Ad85c4A94bF25f6044"},r={[a.Fo.id]:"0x6c61C525C1A732899871B4Ecbd375ED10a3bEa68",[i.dm.id]:"0xb15BD2c5F2f9BAd2e017954Db9f410FF02b0c915"},y={[a.Fo.id]:[{vault:"0x01c7cF3eB85a36C8c28B4901271ef9Fc7f83c7fc",assetTokenSymbol:"ETH",assetTokenAddress:p,assetTokenFeed:"0x9BBf686aE4CBc0053C97671a8ae1A002D7E07EF0",xTokenSymbol:"ETHx",xTokenAddress:"0xA9140B16e64d43CDB51a0e20Ef1c855444184071",ptyPoolBelowAddress:"0xD6C885f3091D8d43E6C4e892c9aF1f10155bf056",ptyPoolAboveAddress:"0x117C99bDd71ca89A8DC4ac4Ea3616b5a839531A7"},{vault:"0x6ECd0b120B724F9AE726394975c20C1034135C3A",assetTokenSymbol:"USDC",assetTokenAddress:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",assetTokenFeed:"0xC1D38564aDb8352be96a32cd8bC7BD31676d3d7c",xTokenSymbol:"USDCx",xTokenAddress:"0x3aB2De8491fE9C410F3cd18e9Eee948A39cad97A",isStable:!0}],[i.dm.id]:[{vault:"0x28443C5637D7688Dc94baEc849dF44Ed23A1Ce16",assetTokenSymbol:"ETH",assetTokenAddress:p,assetTokenFeed:"0x5C85863ADbb8318EfA1E7a3c694E1b33692e97E2",xTokenSymbol:"ETHx",xTokenAddress:"0xDd6245a1cE2cc5DE91eA4000f790bbCBED572dCF",ptyPoolBelowAddress:"0xdc1e86Abd837d693808a0FDAF6fd7cD5e449af54",ptyPoolAboveAddress:"0xF6D06Eab400c62b34baec3e5d1B901b1064D34F9"},{vault:"0xBc4647B83448b8Ed4b1730A0B3D10f1F67924d14",assetTokenSymbol:"USDB",assetTokenAddress:"0x4200000000000000000000000000000000000022",assetTokenFeed:"0xd238DEf592F47CEDfE7aD1e6B8Be0ac29A7B49b0",xTokenSymbol:"USDBx",xTokenAddress:"0x37a93ffa77E7B0072030fD03F0FD4ca4a2A378cA",isStable:!0}]}},8580:function(t,e,n){"use strict";n.d(e,{Hj:function(){return i},Pq:function(){return p},pn:function(){return s},v:function(){return a},xb:function(){return u}});let a="https://twitter.com/WandProtocol",i="https://discord.gg/fy6A7JCE5N",u="https://docs.wand.fi",p=BigInt(1e18),s=864e5},12831:function(t,e,n){"use strict";n.d(e,{zp:function(){return covertConfig},uT:function(){return useReadContract},D2:function(){return useWandContractRead},uX:function(){return useWandContractReads}});var a=n(91056),i=n(2265),u=n(56926),p=n(30665),s=n(70784),r=n(28410),y=n(92598),l=n(6691),o=n(81628);let m={},c={};async function redstonePayload(t,e){if(!a.ON.provider)return{feedId:(0,l.formatBytes32String)(t),payload:"0x",price:0n,decimals:0n};let n=await a.ON.provider.getNetwork(),i=!m[e]||m[e].provider!==a.ON.provider;i&&(m[e]=new r.CH(e,p.SH,a.ON.provider));let u=new Date().getTime(),d="".concat(e,"_").concat(t);if(!i&&c[d]&&u-c[d].time<5e3)return c[d].task;let T=m[e];if(n.chainId==a.dm.id){let e=T.functions.latestPrice((0,l.formatBytes32String)(t),"0x").then(e=>new s.SimpleNumericMockWrapper({mockSignersCount:10,dataPoints:[{dataFeedId:"ETH",value:y.O$.from(e.toString()).div(1e8).toNumber()}]}).getRedstonePayloadForManualUsage(T).then(n=>({feedId:(0,l.formatBytes32String)(t),payload:"0x",price:BigInt(e.toString()),decimals:8n})));return c[d]={task:e,time:new Date().getTime()},e}{let n=new s.DataServiceWrapper({dataServiceId:"redstone-primary-prod",dataFeeds:[t]}),a=n.getRedstonePayloadForManualUsage(T).then(a=>n.getDataPackagesForPayload().then(n=>(console.info("req redstone:",t,e,n,n[0].dataPackage.dataPoints[0].toObj().value),n[0].dataPackage.dataPoints[0].toObj().value)).then(e=>({feedId:(0,l.formatBytes32String)(t),payload:a,price:(0,o.su)(("number"==typeof e?e:parseFloat(e)).toFixed(8),8),decimals:8n})));return c[d]={task:a,time:new Date().getTime()},a}}var d=n(2890),T=n.n(d);let b=new Map([]);function covertConfig(t){let e=(0,a.WA)(),n=t.abi&&b.get(t.abi);return e&&t.vc&&t.abi&&t.functionName&&n&&n.functions[t.functionName]?redstonePayload(t.vc.assetTokenSymbol,t.vc.assetTokenFeed).then(e=>{let a=t.args||[],i=n.functions[t.functionName];return i?"object"==typeof i?{...t,abi:n.abi,functionName:"string"==typeof i.functionName?i.functionName:t.functionName,args:i.args?i.args(a,e):a}:{...t,abi:n.abi,functionName:"string"==typeof i?i:t.functionName,args:[...a,e.feedId,e.payload]}:{...t,abi:n.abi}}).catch(e=>t):Promise.resolve(t)}function useReadContract(){let t=(0,u.t_)();return e=>t.readContract(e)}function useWandContractRead(t){var e;(0,u.ZR)(),void 0==t.enabled&&(t.enabled=!0),t.keepPreviousData=!0;let n=(0,u.xx)({chainId:t.chainId}),{data:a}=(0,u.Ov)({chainId:n,enabled:t.watch||t.cacheOnBlock,scopeKey:t.watch||t.cacheOnBlock?void 0:"idle",watch:t.watch}),p=null!==(e=t.blockNumber)&&void 0!==e?e:a,s=(0,i.useMemo)(()=>[{account:t.account,address:t.address,args:t.args,blockNumber:t.cacheOnBlock?p:void 0,blockTag:t.blockTag,chainId:n,functionName:t.functionName,scopeKey:t.scopeKey}],[t.account,t.address,t.args,p,t.blockTag,t.cacheOnBlock,n,t.functionName,t.scopeKey]),r=(0,i.useMemo)(()=>{let e=!!(t.enabled&&t.abi&&t.address&&t.functionName);return t.cacheOnBlock&&(e=!!(e&&p)),e},[t.abi,t.address,p,t.cacheOnBlock,t.enabled,t.functionName]),y=useReadContract();return(0,u.aM)(s,async()=>{let e=await covertConfig(t),n=await y(e);return n},{cacheTime:t.cacheTime,enabled:r,isDataEqual:t.isDataEqual,keepPreviousData:t.keepPreviousData,select:t.select,staleTime:t.staleTime,structuralSharing:t.structuralSharing,suspense:t.suspense,onError:t.onError,onSettled:t.onSettled,onSuccess:t.onSuccess})}function useWandContractReads(t){var e,n;(0,u.ZR)(),t.keepPreviousData=!0;let a=null===(e=t.allowFailure)||void 0===e||e,{data:p}=(0,u.Ov)({enabled:t.watch||t.cacheOnBlock,watch:t.watch}),s=(0,u.xx)(),r=null!==(n=t.blockNumber)&&void 0!==n?n:p,y=(0,i.useMemo)(()=>{var e;return[{entity:"readContracts",allowFailure:a,blockNumber:r,blockTag:t.blockTag,chainId:s,scopeKey:t.scopeKey,contracts:(null!==(e=t.contracts)&&void 0!==e?e:[]).map(t=>{let{address:e,args:n,chainId:a,functionName:i}=t;return{address:e,args:n,chainId:a,functionName:i}})}]},[a,r,t.blockTag,t.cacheOnBlock,s,t.scopeKey,t.contracts]),l=(0,i.useMemo)(()=>{var e;let n=!!(t.enabled&&(null===(e=t.contracts)||void 0===e?void 0:e.every(t=>t.abi&&t.address&&t.functionName)));return t.cacheOnBlock&&(n=!!(n&&r)),n},[r,t.cacheOnBlock,t.contracts,t.enabled]),o=useReadContract();return(0,u.aM)(y,async()=>{let e=t.contracts||[],n=await Promise.all(e.map(covertConfig)),readContracts=async()=>{let t=T().chunk(n,10),e=[];for(let n=0;n<t.length;n++){let a=t[n],i=await Promise.all(a.map(t=>o(t).catch(t=>void 0)));e=e.concat(i.map(t=>({result:t})))}return e},a=await readContracts();return a},{cacheTime:t.cacheTime,enabled:l,isDataEqual:t.isDataEqual,keepPreviousData:t.keepPreviousData,select:t.select,staleTime:t.staleTime,structuralSharing:t.structuralSharing,suspense:t.suspense,onError:t.onError,onSettled:t.onSettled,onSuccess:t.onSuccess})}},81628:function(t,e,n){"use strict";n.d(e,{Jh:function(){return fmtPercent},NA:function(){return bnMin},Rr:function(){return fmtAAR},S3:function(){return handleError},az:function(){return getErrorMsg},ok:function(){return getBigint},pF:function(){return aarToNumber},su:function(){return parseEthers}});var a=n(16775),i=n(36238),u=n(43977),p=n(98614),s=n.n(p),r=n(71424);function getErrorMsg(t){let e="Unkown";return("string"==typeof t?e=t:"string"==typeof(null==t?void 0:t.msg)?e=null==t?void 0:t.msg:"string"==typeof(null==t?void 0:t.message)&&(e=null==t?void 0:t.message),e.includes("User denied")||e.includes("user rejected transaction"))?"You declined the action in your wallet.":e.includes("transaction failed")?"Transaction failed":e}function handleError(t){r.A.error(getErrorMsg(t))}function aarToNumber(t,e){let n=(0,a.b)("bigint"==typeof t?t:0n,"bigint"==typeof e?parseInt(e.toString()):e);return parseFloat(n)}function fmtAAR(t,e){let n=100*aarToNumber(t,e);return n>999999999?">999999999%":n.toFixed()+"%"}function parseEthers(t,e){t||(t="0"),t=t.replaceAll(",","");let n="number"==typeof e?e:i.ez[e||"wei"];return(0,u.v)(t,n)}function fmtPercent(t,e,n){let i="bigint"==typeof e?parseInt(e.toString()):e,u=(0,a.b)(100n*t,i);return parseFloat(u.replaceAll(",","")).toFixed(n)+"%"}function getBigint(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0n,a=s()(t,e,n);return"bigint"==typeof a?a:"number"==typeof a?BigInt(a):n}function bnMin(t){return t.length<=0?0n:t.reduce((t,e)=>e<t?e:t,t[0])}},15898:function(t,e,n){"use strict";n.d(e,{g:function(){return A},A:function(){return FetcherProvider}});var a=n(57437),i=n(30665),u=n(91056),p=n(72009);let getTokens=()=>p.iK[(0,u.BV)()].map(t=>({symbol:t.assetTokenSymbol,address:t.assetTokenAddress})).concat(p.iK[(0,u.BV)()].map(t=>({symbol:t.xTokenSymbol,address:t.xTokenAddress}))).concat([{symbol:"USB",address:p.O1[(0,u.BV)()]}]).filter(t=>"ETH"!==t.symbol);var s=n(8580),r=n(2265),y=n(56926),l=n(420),o=n(46795),m=n(12831),c=n(81628),d=n(24033),T=n(21693),b=n(16775),f=n(84661);function proxyGetDef(t,e){return new Proxy(t,{get:function(t,n){return n in t&&null!==t[n]&&void 0!==t[n]?t[n]:e}})}let A=(0,r.createContext)({balances:proxyGetDef({},0n),totalSupplies:proxyGetDef({},0n),prices:proxyGetDef({},0n),assetLocked:proxyGetDef({},0n),aar:proxyGetDef({},0),vaultUSBTotal:proxyGetDef({},0n),vaultsMode:proxyGetDef({},0),vaultsDiscount:proxyGetDef({},!1),vaultsState:proxyGetDef({},proxyGetDef({},0n)),stableVaultsState:proxyGetDef({},proxyGetDef({},0n)),earns:proxyGetDef({},0n)}),FetcherProvider=t=>{let{children:e}=t,n=(0,d.usePathname)(),S="/"!=n,M=(0,y.xx)();(0,u.rv)(M),function(){let{chainId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,y.t_)({chainId:t});r.useMemo(()=>{let t=function(t){var e,n;let{chain:a,transport:i}=t,u={chainId:a.id,name:a.name,ensAddress:null===(n=a.contracts)||void 0===n?void 0:null===(e=n.ensRegistry)||void 0===e?void 0:e.address};return"fallback"===i.type?new l.H(i.transports.map(t=>{let{value:e}=t;return new o.r(null==e?void 0:e.url,u)})):new o.r(i.url,u)}(e);return u.ON.provider=t,t},[e])}();let v=(0,u.BV)(),{address:g}=(0,y.mA)(),{data:k}=(0,y.KQ)({address:g,watch:!0,enabled:!!g&&S,chainId:(0,u.BV)()}),w=(0,r.useMemo)(()=>getTokens(),[(0,u.BV)()]),C=(0,r.useMemo)(()=>({contracts:[...w.map(t=>({address:t.address,abi:f.em,functionName:"balanceOf",args:[g],chainId:(0,u.BV)()})),...w.map(t=>({address:t.address,abi:f.em,functionName:"totalSupply",chainId:(0,u.BV)()}))],watch:!0,enabled:!!g&&S,allowFailure:!0}),[w,g,S]),{data:D}=(0,m.uX)(C),B=w.length,R=(0,r.useMemo)(()=>null==D?void 0:D.filter((t,e)=>e<B).map((t,e)=>{var n;return{symbol:null===(n=w[e])||void 0===n?void 0:n.symbol,balance:(0,c.ok)(t,"result")}}),[D,w]),E=(0,r.useMemo)(()=>proxyGetDef({},0n),[]);E.ETH=(null==k?void 0:k.value)||0n,null==R||R.forEach(t=>{E[t.symbol]=t.balance});let P={};w.forEach((t,e)=>{P[t.symbol]=(0,c.ok)(D,[e+B,"result"])});let h=p.iK[v],_=function(){let t=(0,d.usePathname)(),e="/"!=t,n=p.iK[(0,u.BV)()],{data:a}=(0,m.uX)({watch:!0,enabled:e,contracts:[...n.map(t=>({vc:t,abi:i.nq,address:t.assetTokenFeed,functionName:"latestPrice"}))]}),{data:y}=(0,m.uX)({watch:!0,cacheTime:s.pn,enabled:e,contracts:[...n.map(t=>({abi:i.nq,address:t.assetTokenFeed,functionName:"decimals"}))]});return(0,r.useMemo)(()=>{let t={};return n.forEach((e,n)=>{let i=(0,c.ok)(a,[n,"result"]),u=(0,c.ok)(y,[n,"result"]);t[e.assetTokenSymbol]=[i,u]}),t},[a,y,n])}(),x=(0,r.useMemo)(()=>({watch:!0,enabled:S,contracts:[...h.map(t=>({vc:t,abi:i.WW,address:t.vault,functionName:"assetBalance"}))]}),[h,S]),{data:U}=(0,m.uX)(x),F=(0,r.useMemo)(()=>({watch:!0,enabled:S,contracts:[...h.map(t=>({abi:i.WW,address:t.vault,functionName:"usbTotalSupply"}))]}),[S,h]),{data:V}=(0,m.uX)(F),I=(0,r.useMemo)(()=>({watch:!0,enabled:S,contracts:[...h.map(t=>({vc:t,abi:i.Wn,address:p.O6[v],functionName:"AAR",args:[t.vault]}))]}),[S,h]),{data:H}=(0,m.uX)(I),N=(0,r.useMemo)(()=>({cacheTime:s.pn,enabled:S,contracts:[...h.map(t=>({abi:i.WW,address:t.vault,functionName:"AARDecimals"}))]}),[S,h]),{data:L}=(0,m.uX)(N),O=(0,r.useMemo)(()=>({watch:!0,enabled:S,contracts:[...h.map(t=>({abi:i.WW,address:t.vault,functionName:"vaultMode"}))]}),[S,h]),{data:W}=(0,m.uX)(O),G=(0,r.useMemo)(()=>({watch:!0,enabled:S,contracts:[...h.map(t=>({vc:t,abi:i.Wn,address:p.O6[v],functionName:t.isStable?"getStableVaultState":"getVaultState",args:[t.vault]}))]}),[S,h]),{data:q}=(0,m.uX)(G),K=(0,r.useMemo)(()=>({cacheTime:s.pn,enabled:S,contracts:[...h.map(t=>({vc:t,abi:i.WW,address:t.vault,functionName:"paramValue",args:[(0,T.$G)("Y",{size:32})]}))]}),[S,h]),{data:Y}=(0,m.uX)(K),X=(0,r.useMemo)(()=>proxyGetDef({USB:s.Pq},0n),[]),j=(0,r.useMemo)(()=>proxyGetDef({},0n),[]),z=(0,r.useMemo)(()=>proxyGetDef({},0n),[]),Z=(0,r.useMemo)(()=>proxyGetDef({},0n),[]),$=(0,r.useMemo)(()=>proxyGetDef({},0),[]),J=(0,r.useMemo)(()=>proxyGetDef({},proxyGetDef({},0n)),[]),Q=(0,r.useMemo)(()=>proxyGetDef({},proxyGetDef({},0n)),[]),tt=function(t,e,n){let a=(0,r.useMemo)(()=>proxyGetDef({},!1),[]),s=p.iK[(0,u.BV)()],{data:y}=(0,m.uX)({contracts:s.map(t=>({vc:t,abi:i.WW,address:t.vault,functionName:"paramValue",args:[(0,T.$G)("CircuitBreakPeriod",{size:32})]}))});return s.forEach((i,u)=>{if(i.isStable){let t=e[(null==i?void 0:i.vault)||"null"];a[i.vault]=t&&t.aar>=t.AARS}else{let e=(0,c.ok)(y,[u,"result"]),p=t[(null==i?void 0:i.vault)||"null"],s=n[(null==i?void 0:i.vault)||"null"],r=(0,c.ok)(p,"AARBelowCircuitBreakerLineTime"),l=2==s&&p&&((0,c.ok)(p,"aar")>=(0,c.ok)(p,"AARC")||BigInt(new Date().getTime()/1e3)-r>=e);a[i.vault]=l}}),a}(J,Q,$);h.forEach((t,e)=>{var n,a,i;let u=(0,c.ok)(U,[e,"result"]),p=(0,c.ok)(V,[e,"result"]),r=(0,c.ok)(_[t.assetTokenSymbol],[0]),y=(0,c.ok)(_[t.assetTokenSymbol],[1]);Z[t.vault]=p;let l=y>0n?r*s.Pq/10n**y:0n;X[t.assetTokenSymbol]=l;let o=(0,c.ok)(P,t.xTokenSymbol),m=o>0n&&u>0n&&l>0n&&p>0n&&u*l>p*s.Pq?(u*l-p*s.Pq)/o:0n;o>0n&&u>0n&&l>0n&&p>0n&&s.Pq,X[t.xTokenSymbol]=m,j[t.assetTokenSymbol]=u;let d=(0,b.b)((0,c.ok)(H,[e,"result"]),parseInt((0,c.ok)(L,[e,"result"]).toString()));z[t.vault]=parseFloat(d),z[t.assetTokenSymbol]=z[t.vault],$[t.vault]=(null==W?void 0:null===(n=W[e])||void 0===n?void 0:n.result)||0,$[t.assetTokenSymbol]=$[t.vault],t.isStable?(Q[t.vault]={settingsDecimals:10n,...null==q?void 0:null===(a=q[e])||void 0===a?void 0:a.result,Y:(0,c.ok)(Y,[e,"result"])},Q[t.assetTokenSymbol]=Q[t.vault]):(J[t.vault]={settingsDecimals:10n,...null==q?void 0:null===(i=q[e])||void 0===i?void 0:i.result,Y:(0,c.ok)(Y,[e,"result"])},J[t.assetTokenSymbol]=J[t.vault])});let te=function(){let{address:t}=(0,y.mA)(),e=(0,d.usePathname)(),n=p.iK[(0,u.BV)()],a=(0,r.useMemo)(()=>n.filter(t=>!t.isStable&&t.ptyPoolAboveAddress&&t.ptyPoolBelowAddress).map(t=>[{poolAddress:t.ptyPoolBelowAddress,stakeSymbol:"USB",matchSymbol:t.assetTokenSymbol,earnSymbol:t.xTokenSymbol,earnForMatchSymbol:t.assetTokenSymbol},{poolAddress:t.ptyPoolAboveAddress,stakeSymbol:t.assetTokenSymbol,matchSymbol:"USB",earnSymbol:t.assetTokenSymbol,earnForMatchSymbol:t.xTokenSymbol}]).flat(),n),{data:s}=(0,m.uX)({watch:!0,enabled:!!t&&"/earn"==e,contracts:[...a.map(e=>{let{poolAddress:n}=e;return{abi:i.aT,address:n,functionName:"userStakingBalance",args:[t]}}),...a.map(e=>{let{poolAddress:n}=e;return{abi:i.aT,address:n,functionName:"earnedMatchedToken",args:[t]}}),...a.map(e=>{let{poolAddress:n}=e;return{abi:i.aT,address:n,functionName:"earnedStakingYields",args:[t]}}),...a.map(e=>{let{poolAddress:n}=e;return{abi:i.aT,address:n,functionName:"earnedMatchingYields",args:[t]}}),...a.map(t=>{let{poolAddress:e}=t;return{abi:i.aT,address:e,functionName:"totalStakingBalance"}})]}),l=(0,r.useMemo)(()=>proxyGetDef({},proxyGetDef({},0n)),[]);return a.forEach((t,e)=>{let{poolAddress:n,stakeSymbol:i,matchSymbol:u,earnSymbol:p}=t,r=(0,c.ok)(s,[e,"result"]),y=(0,c.ok)(s,[e+a.length,"result"]),o=(0,c.ok)(s,[e+2*a.length,"result"]),m=(0,c.ok)(s,[e+3*a.length,"result"]),d=(0,c.ok)(s,[e+4*a.length,"result"]);l[n]={stakeSymbol:i,matchSymbol:u,earnSymbol:p,stake:r,match:y,earn:o,earnForMatch:m,totalStake:d}}),l}();return(0,a.jsx)(A.Provider,{value:{balances:E,totalSupplies:P,prices:X,assetLocked:j,aar:z,vaultUSBTotal:Z,vaultsMode:$,vaultsDiscount:tt,vaultsState:J,stableVaultsState:Q,earns:te},children:e})}}}]);