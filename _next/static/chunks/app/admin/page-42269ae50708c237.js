(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{65967:function(e,t,a){Promise.resolve().then(a.bind(a,5970))},5970:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return AdminPage}});var n=a(57437),r=a(76036),s=a(84486),l=a(91056),c=a(72009),o=a(57042),u=a(2265),i=a(28881),d=a(99888),p=a(21693),f=a(43977),m=a(56926);function AdminPage(){(0,m.xx)();let e=c.iK[(0,l.BV)()],[{name:t,value:a,vault:v},h]=(0,d.Z)({name:"Y",value:"",vault:e[0].vault}),x=(0,u.useMemo)(()=>e.map(e=>({label:e.assetTokenSymbol,value:e.vault})),[]);return(0,n.jsx)("div",{className:"w-full flex",children:(0,n.jsxs)("div",{className:"flex flex-col gap-1 w-full max-w-[500px] mx-auto",children:[(0,n.jsx)(i.ZP,{defaultValue:x[0],options:x,onChange:e=>h({vault:null==e?void 0:e.value})}),(0,n.jsx)("input",{value:t,onChange:e=>{let t=(e.target.value||"").replaceAll("-","").replaceAll("+","");h({name:t})},type:"text",className:(0,o.Z)("bg-white border-slate-400  focus:border-blue-400 ","w-full h-14 text-right pr-4 font-bold text-2xl border focus:border-2 text-slate-700 rounded-md outline-none"),placeholder:"Y"}),(0,n.jsx)("input",{value:a.toString(),onChange:e=>{let t=(e.target.value||"").replaceAll("-","").replaceAll("+","");h({value:t})},type:"number",className:(0,o.Z)("bg-white border-slate-400  focus:border-blue-400 ","w-full h-14 text-right pr-4 font-bold text-2xl border focus:border-2 text-slate-700 rounded-md outline-none"),pattern:"[0-9.]{36}",step:1,placeholder:"0"}),(0,n.jsx)(r.v,{tx:"Update",config:{abi:s.$4,address:c.e_[(0,l.BV)()],functionName:"updateVaultParamValue",args:[v,(0,p.$G)(t,{size:32}),(0,f.v)(a,10)]},className:"btn-primary flex items-center justify-center gap-4"})]})})}},76036:function(e,t,a){"use strict";a.d(t,{v:function(){return ApproveAndTx}});var n=a(57437),r=a(72009),s=a(81628),l=a(2265),c=a(71424),o=a(56926),u=a(84661),i=a(54415);let d={},useApproves=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10000000000n*10n**18n,{address:n}=(0,o.mA)(),p=(0,i.uT)(),{data:f}=(0,o.py)(),[m,v]=(0,l.useState)(!1),h=(0,l.useMemo)(()=>Object.keys(e).filter(e=>e!==r.K8),[e]),[x,b]=(0,l.useState)(t&&d[t]||{}),updateAllownce=(e,a)=>{t&&(d[t]={...d[t]||{},[e]:a},b(t=>({...t,[e]:a})))},{data:w}=(0,o.Ov)(),g=(0,o.t_)();(0,l.useEffect)(()=>{n&&t&&h.forEach(e=>{p({abi:u.em,address:e,functionName:"allowance",args:[n,t]}).then(t=>updateAllownce(e,t||0n)).catch(console.error)})},[h,n,w]);let[A,y]=(0,l.useState)(!1),j=(0,l.useMemo)(()=>h.filter(t=>(0,s.ok)(e,t)>0n&&(0,s.ok)(e,t)>(0,s.ok)(x,t)),[e,h,x]),approve=async()=>{if(0!=j.length&&t)try{y(!0),v(!1);for(let n=0;n<j.length;n++){let r=j[n],s=!1===a?e[r]:a,l=await (null==f?void 0:f.writeContract({abi:u.em,address:r,functionName:"approve",args:[t,s]}));l&&await (null==g?void 0:g.waitForTransactionReceipt({hash:l})),updateAllownce(r,s)}c.A.success("Approve success"),y(!1),v(!0)}catch(e){throw c.A.error((0,s.az)(e)),y(!1),v(!1),e}};return{approve,loading:A,shouldApprove:j.length>0,isSuccess:m}};var p=a(43003),f=a(35769),m=a(72084);function ApproveAndTx(e){let{className:t,tx:a,approves:r,spender:s,requestAmount:c,config:o,toast:u=!0,disabled:i,onTxSuccess:d,onApproveSuccess:v}=e,{write:h,isDisabled:x,isLoading:b}=(0,p.R)({onSuccess:()=>d&&d(),...o},u),w=i||x||b||!1===o.enabled,{approve:g,shouldApprove:A,loading:y,isSuccess:j}=useApproves(r||{},s,c),C=(0,l.useRef)();return(C.current=v,(0,l.useEffect)(()=>{C.current&&j&&C.current()},[j]),A)?(0,n.jsxs)("button",{className:(0,f.m)("btn-primary flex items-center justify-center gap-4",t),onClick:g,disabled:i||!g||y,children:[y&&(0,n.jsx)(m.$,{}),"Approve"]}):(0,n.jsxs)("button",{className:(0,f.m)("btn-primary flex items-center justify-center gap-4",t),onClick:()=>h(),disabled:w,children:[b&&(0,n.jsx)(m.$,{}),a]})}},72084:function(e,t,a){"use strict";a.d(t,{$:function(){return Spinner}});var n=a(57437);let Spinner=e=>{let{className:t}=e;return(0,n.jsxs)("svg",{fill:"none",className:t?"text-white":"animate-spin h-5 w-5 2-ml-1 2mr-3",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},43003:function(e,t,a){"use strict";a.d(t,{R:function(){return useWrapContractWrite}});var n=a(81628),r=a(2265),s=a(71424),l=a(56926);function useWrapContractWrite(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],[a,c]=(0,r.useState)(!1),[o,u]=(0,r.useState)(!1),i=(0,l.t_)(),{data:d}=(0,l.py)(),p=!i||!d||!d.account||a||!e||"object"==typeof e&&!1==e.enabled,write=async()=>{if(!p){c(!0),u(!1);try{let a="function"==typeof e?await e():e,{request:n}=await i.simulateContract({account:d.account,...a}),r=await d.writeContract(n),l=await i.waitForTransactionReceipt({hash:r});if("success"!==l.status)throw"Transaction reverted";u(!0),a.onSuccess&&a.onSuccess({}),t&&s.A.success("Transaction success")}catch(e){t&&s.A.error((0,n.az)(e))}c(!1)}};return{write,isDisabled:p,isLoading:a,isSuccess:o}}},99888:function(e,t,a){"use strict";var n=a(2265);t.Z=function(e){void 0===e&&(e={});var t=(0,n.useState)(e),a=t[0],r=t[1];return[a,(0,n.useCallback)(function(e){r(function(t){return Object.assign({},t,e instanceof Function?e(t):e)})},[])]}}},function(e){e.O(0,[1866,9918,877,4725,9356,9724,2971,2472,1744],function(){return e(e.s=65967)}),_N_E=e.O()}]);