(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[50],{35883:function(){},14034:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var i=r(50044),a=r(2265),l=r(16737),o=r(37517),s=r(93568),d=r(76503);let m=(0,s.fn)("Divider"),g=a.forwardRef((e,t)=>{let{className:r}=e,s=(0,i.__rest)(e,["className"]);return a.createElement("div",Object.assign({ref:t,className:(0,d.q)(m("root"),"w-full mx-auto","bg-tremor-background-subtle","dark:bg-dark-tremor-background-subtle",l.N.threeXs.height,o.W.threeXl.marginTop,o.W.threeXl.marginBottom,r)},s))});g.displayName="Divider"},87456:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var i=r(50044),a=r(2265),l=r(93568),o=r(76503);let s={0:"grid-cols-none",1:"grid-cols-1",2:"grid-cols-2",3:"grid-cols-3",4:"grid-cols-4",5:"grid-cols-5",6:"grid-cols-6",7:"grid-cols-7",8:"grid-cols-8",9:"grid-cols-9",10:"grid-cols-10",11:"grid-cols-11",12:"grid-cols-12"},d={0:"sm:grid-cols-none",1:"sm:grid-cols-1",2:"sm:grid-cols-2",3:"sm:grid-cols-3",4:"sm:grid-cols-4",5:"sm:grid-cols-5",6:"sm:grid-cols-6",7:"sm:grid-cols-7",8:"sm:grid-cols-8",9:"sm:grid-cols-9",10:"sm:grid-cols-10",11:"sm:grid-cols-11",12:"sm:grid-cols-12"},m={0:"md:grid-cols-none",1:"md:grid-cols-1",2:"md:grid-cols-2",3:"md:grid-cols-3",4:"md:grid-cols-4",5:"md:grid-cols-5",6:"md:grid-cols-6",7:"md:grid-cols-7",8:"md:grid-cols-8",9:"md:grid-cols-9",10:"md:grid-cols-10",11:"md:grid-cols-11",12:"md:grid-cols-12"},g={0:"lg:grid-cols-none",1:"lg:grid-cols-1",2:"lg:grid-cols-2",3:"lg:grid-cols-3",4:"lg:grid-cols-4",5:"lg:grid-cols-5",6:"lg:grid-cols-6",7:"lg:grid-cols-7",8:"lg:grid-cols-8",9:"lg:grid-cols-9",10:"lg:grid-cols-10",11:"lg:grid-cols-11",12:"lg:grid-cols-12"},p=(0,l.fn)("Grid"),Grid_c=(e,t)=>e&&Object.keys(t).includes(String(e))?t[e]:"",u=a.forwardRef((e,t)=>{let{numItems:r=1,numItemsSm:l,numItemsMd:u,numItemsLg:h,children:f,className:x}=e,b=(0,i.__rest)(e,["numItems","numItemsSm","numItemsMd","numItemsLg","children","className"]),v=(0,a.useMemo)(()=>{let e=Grid_c(r,s),t=Grid_c(l,d),i=Grid_c(u,m),a=Grid_c(h,g);return(0,o.q)(e,t,i,a)},[r,l,u,h]);return a.createElement("div",Object.assign({ref:t,className:(0,o.q)(p("root"),"grid",v,x)},b),f)});u.displayName="Grid"},70945:function(e,t,r){"use strict";r.d(t,{fr:function(){return i},u8:function(){return a},zS:function(){return l}});let i={Slate:"slate",Gray:"gray",Zinc:"zinc",Neutral:"neutral",Stone:"stone",Red:"red",Orange:"orange",Amber:"amber",Yellow:"yellow",Lime:"lime",Green:"green",Emerald:"emerald",Teal:"teal",Cyan:"cyan",Sky:"sky",Blue:"blue",Indigo:"indigo",Violet:"violet",Purple:"purple",Fuchsia:"fuchsia",Pink:"pink",Rose:"rose"},a={XS:"xs",SM:"sm",MD:"md",LG:"lg",XL:"xl"},l={Left:"left",Right:"right"}},16737:function(e,t,r){"use strict";r.d(t,{N:function(){return i}});let i={none:{height:"h-0",width:"w-0"},threeXs:{height:"h-0.5",width:"w-0.5"},twoXs:{height:"h-1",width:"w-1"},xs:{height:"h-2",width:"w-2"},sm:{height:"h-3",width:"w-3"},md:{height:"h-4",width:"w-4"},lg:{height:"h-5",width:"w-5"},xl:{height:"h-6",width:"w-6"},twoXl:{height:"h-7",width:"w-7"},threeXl:{height:"h-9",width:"w-9"}}},37517:function(e,t,r){"use strict";r.d(t,{W:function(){return i}});let i={none:{paddingLeft:"pl-0",paddingTop:"pt-0",paddingRight:"pr-0",paddingBottom:"pb-0",paddingX:"px-0",paddingY:"py-0",paddingAll:"p-0",marginLeft:"ml-0",marginTop:"mt-0",marginRight:"mr-0",marginBottom:"mb-0",negativeMarginLeft:"-ml-0",negativeMarginRight:"-mr-0",negativeMarginTop:"-mt-0",negativeMarginBottom:"-mb-0",left:"left-0",right:"right-0",top:"top-0",bottom:"bottom-0",spaceX:"space-x-0"},px:{paddingLeft:"pl-px",paddingTop:"pt-px",paddingRight:"pr-px",paddingBottom:"pb-px",paddingX:"px-px",paddingY:"py-px",paddingAll:"p-px",marginLeft:"ml-px",marginTop:"mt-px",marginRight:"mr-px",marginBottom:"mb-px",negativeMarginLeft:"-ml-px",negativeMarginRight:"-mr-px",negativeMarginTop:"-mt-px",negativeMarginBottom:"-mb-px",left:"left-px",right:"right-px",top:"top-px",bottom:"bottom-px",spaceX:"space-x-px"},threeXs:{paddingLeft:"pl-0.5",paddingTop:"pt-0.5",paddingRight:"pr-0.5",paddingBottom:"pb-0.5",paddingX:"px-0.5",paddingY:"py-0.5",paddingAll:"p-0.5",marginLeft:"ml-0.5",marginTop:"mt-0.5",marginRight:"mr-0.5",marginBottom:"mb-0.5",negativeMarginLeft:"-ml-0.5",negativeMarginRight:"-mr-0.5",negativeMarginTop:"-mt-0.5",negativeMarginBottom:"-mb-0.5",left:"left-0.5",right:"right-0.5",top:"top-0.5",bottom:"bottom-0.5",spaceX:"space-x-0.5"},twoXs:{paddingLeft:"pl-1",paddingTop:"pt-1",paddingRight:"pr-1",paddingBottom:"pb-1",paddingX:"px-1",paddingY:"py-1",paddingAll:"p-1",marginLeft:"ml-1",marginTop:"mt-1",marginRight:"mr-1",marginBottom:"mb-1",negativeMarginLeft:"-ml-1",negativeMarginRight:"-mr-1",left:"left-1",right:"right-1",top:"top-1",bottom:"bottom-1",spaceX:"space-x-1"},xs:{paddingLeft:"pl-1.5",paddingTop:"pt-1.5",paddingRight:"pr-1.5",paddingBottom:"pb-1.5",paddingX:"px-1.5",paddingY:"py-1.5",paddingAll:"p-1.5",marginLeft:"ml-1.5",marginTop:"mt-1.5",marginRight:"mr-1.5",marginBottom:"mb-1.5",negativeMarginLeft:"-ml-1.5",negativeMarginRight:"-mr-1.5",negativeMarginTop:"-mt-1.5",negativeMarginBottom:"-mb-1.5",left:"left-1.5",right:"right-1.5",top:"top-1.5",bottom:"bottom-1.5",spaceX:"space-x-1.5"},sm:{paddingLeft:"pl-2",paddingTop:"pt-2",paddingRight:"pr-2",paddingBottom:"pb-2",paddingX:"px-2",paddingY:"py-2",paddingAll:"p-2",marginLeft:"ml-2",marginTop:"mt-2",marginRight:"mr-2",marginBottom:"mb-2",negativeMarginLeft:"-ml-2",negativeMarginRight:"-mr-2",negativeMarginTop:"-mt-2",negativeMarginBottom:"-mb-2",left:"left-2",right:"right-2",top:"left-2",bottom:"bottom-2",spaceX:"space-x-2"},md:{paddingLeft:"pl-2.5",paddingTop:"pt-2.5",paddingRight:"pr-2.5",paddingBottom:"pb-2.5",paddingX:"px-2.5",paddingY:"py-2.5",paddingAll:"p-2.5",marginLeft:"ml-2.5",marginTop:"mt-2.5",marginRight:"mr-2.5",marginBottom:"mb-2.5",negativeMarginLeft:"-ml-2.5",negativeMarginRight:"-mr-2.5",negativeMarginTop:"-mt-2.5",negativeMarginBottom:"-mb-2.5",left:"left-2.5",right:"right-2.5",top:"top-2.5",bottom:"bottom-2.5",spaceX:"space-x-2.5"},lg:{paddingLeft:"pl-3",paddingTop:"pt-3",paddingRight:"pr-3",paddingBottom:"pb-3",paddingX:"px-3",paddingY:"py-3",paddingAll:"p-3",marginLeft:"ml-3",marginTop:"mt-3",marginRight:"mr-3",marginBottom:"mb-3",negativeMarginLeft:"-ml-3",negativeMarginRight:"-mr-3",negativeMarginTop:"-mt-3",negativeMarginBottom:"-mb-3",left:"left-3",right:"right-3",top:"top-3",bottom:"bottom-3",spaceX:"space-x-3"},xl:{paddingLeft:"pl-3.5",paddingTop:"pt-3.5",paddingRight:"pr-3.5",paddingBottom:"pb-3.5",paddingX:"px-3.5",paddingY:"py-3.5",paddingAll:"p-3.5",marginLeft:"ml-3.5",marginTop:"mt-3.5",marginRight:"mr-3.5",marginBottom:"mb-3.5",negativeMarginLeft:"-ml-3.5",negativeMarginRight:"-mr-3.5",negativeMarginTop:"-mt-3.5",negativeMarginBottom:"-mb-3.5",left:"left-3.5",right:"right-3.5",top:"top-3.5",bottom:"bottom-3.5",spaceX:"space-x-3.5"},twoXl:{paddingLeft:"pl-4",paddingTop:"pt-4",paddingRight:"pr-4",paddingBottom:"pb-4",paddingX:"px-4",paddingY:"py-4",paddingAll:"p-4",marginLeft:"ml-4",marginTop:"mt-4",marginRight:"mr-4",marginBottom:"mb-4",negativeMarginLeft:"-ml-4",negativeMarginRight:"-mr-4",negativeMarginTop:"-mt-4",negativeMarginBottom:"-mb-4",left:"left-4",right:"right-4",top:"top-4",bottom:"bottom-4",spaceX:"space-x-4"},threeXl:{paddingLeft:"pl-6",paddingTop:"pt-6",paddingRight:"pr-6",paddingBottom:"pb-6",paddingX:"px-6",paddingY:"py-6",paddingAll:"p-6",marginLeft:"ml-6",marginTop:"mt-6",marginRight:"mr-6",marginBottom:"mb-6",negativeMarginLeft:"-ml-6",negativeMarginRight:"-mr-6",negativeMarginTop:"-mt-6",negativeMarginBottom:"-mb-6",left:"left-6",right:"right-6",top:"top-6",bottom:"bottom-6",spaceX:"space-x-6"},fourXl:{paddingLeft:"pl-8",paddingTop:"pt-8",paddingRight:"pr-8",paddingBottom:"pb-8",paddingX:"px-8",paddingY:"py-8",paddingAll:"p-8",marginLeft:"ml-8",marginTop:"mt-8",marginRight:"mr-8",marginBottom:"mb-8",negativeMarginLeft:"-ml-8",negativeMarginRight:"-mr-8",negativeMarginTop:"-mt-8",negativeMarginBottom:"-mb-8",left:"left-8",right:"right-8",top:"top-8",bottom:"bottom-8",spaceX:"space-x-8"}}},76503:function(e,t,r){"use strict";r.d(t,{q:function(){return s}});var i=r(48362),a=r(17783),l=Object.prototype.hasOwnProperty,o=new Set(["string","number","boolean"]);let s=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return"function"==typeof e?i.I.apply(void 0,[a._,e].concat(r)):i.I.apply(void 0,[function(){return function(e,t){for(var r in t)!function mergePropertyRecursively(e,t,r){if(!l.call(e,t)||o.has(typeof r)||null===r){e[t]=r;return}if(Array.isArray(r)&&Array.isArray(e[t])){e[t]=e[t].concat(r);return}if("object"==typeof r&&"object"==typeof e[t]){if(null===e[t]){e[t]=r;return}for(var i in r)mergePropertyRecursively(e[t],i,r[i])}}(e,r,t[r]);return e}((0,a._)(),e)}].concat(r))}({classGroups:{boxShadow:[{shadow:[{tremor:["input","card","dropdown"],"dark-tremor":["input","card","dropdown"]}]}],borderRadius:[{rounded:[{tremor:["small","default","full"],"dark-tremor":["small","default","full"]}]}],fontSize:[{text:[{tremor:["default","title","metric"],"dark-tremor":["default","title","metric"]}]}]}})},93568:function(e,t,r){"use strict";function n(e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}function $(e){return t=>`tremor-${e}-${t}`}function c(e,t){return"white"!==e&&"black"!==e&&"transparent"!==e&&t?{bgColor:`bg-${e}-${t}`,selectBgColor:`ui-selected:bg-${e}-${t}`,hoverBgColor:`hover:bg-${e}-${t}`,textColor:`text-${e}-${t}`,selectTextColor:`ui-selected:text-${e}-${t}`,hoverTextColor:`hover:text-${e}-${t}`,borderColor:`border-${e}-${t}`,selectBorderColor:`ui-selected:border-${e}-${t}`,hoverBorderColor:`hover:border-${e}-${t}`,ringColor:`ring-${e}-${t}`,strokeColor:`stroke-${e}-${t}`,fillColor:`fill-${e}-${t}`}:{bgColor:`bg-${e}`,hoverBgColor:`hover:bg-${e}`,selectBgColor:`ui-selected:bg-${e}`,textColor:`text-${e}`,selectTextColor:`ui-selected:text-${e}`,hoverTextColor:`hover:text-${e}`,borderColor:`border-${e}`,selectBorderColor:`ui-selected:border-${e}`,hoverBorderColor:`hover:border-${e}`,ringColor:`ring-${e}`,strokeColor:`stroke-${e}`,fillColor:`fill-${e}`}}r.d(t,{bM:function(){return c},fn:function(){return $},lq:function(){return n}}),r(70945)},55139:function(e,t,r){"use strict";r.d(t,{r:function(){return i.Z}});var i=r(87456)},62166:function(e,t,r){Promise.resolve().then(r.bind(r,66790))},66790:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return EarnPage}});var i=r(57437),a=r(84486),l=r(72009),o=r(8580),s=r(14389),d=r(2265);let m={};var g=r(54415),p=r(43003),u=r(81628),h=r(15898),f=r(20373),x=r(14034),b=r(87456),v=r(57042),y=r(16691),k=r.n(y),w=r(79352),j=r(56926),T=r(76036),N=r(34776),R=r(80547),M=r(51549),S=r(72084),B=r(64020);function TokenValue(e){let{symbol:t,value:r,decimals:a}=e;return(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)(k(),{className:"inline-block",alt:"usb",width:16,height:16,src:"/".concat(t,".svg")}),(0,f.dq)(r,a)]})}function DualTokenCard(e){let{type:t,vc:r}=e,v="buy"==t,y=(0,s.p)(),k=v?l.O1[y]:r.assetTokenAddress,A=v?"USB":r.assetTokenSymbol,C=v?r.assetTokenSymbol:"USB",L=v?"Buy ".concat(r.assetTokenSymbol," Low"):"Sell ".concat(r.assetTokenSymbol," High"),X=v?r.ptyPoolBelowAddress:r.ptyPoolAboveAddress,{prices:_,balances:E,earns:P,vaultsState:I,assetLocked:z,vaultUSBTotal:Y}=(0,d.useContext)(h.g),q=I[r.vault],D=P[X],{address:W}=(0,j.mA)(),G=E[k],[Z,F]=(0,d.useState)(""),O=(0,u.su)(Z),V=v?r.xTokenSymbol:r.assetTokenSymbol,H=v?r.assetTokenSymbol:r.xTokenSymbol,U=(0,d.useMemo)(()=>D.totalStake*(0,u.ok)(_,k,o.Pq)/o.Pq,[_[k],D.totalStake]),J=v?null==q?void 0:q.AARS:null==q?void 0:q.AARU,K=(0,u.ok)(z,r.assetTokenAddress),Q=(0,u.ok)(Y,r.vault),ee=(0,d.useMemo)(()=>J&&q.AARDecimals&&0n!=K&&0n!=Q?J*Q*o.Pq/q.AARDecimals/K/BigInt(1e9):(0,u.ok)(_,r.assetTokenAddress),[J,Q,q.AARDecimals,K]),et=v?"Stake $USB, and when the ".concat(r.assetTokenSymbol," price falls to the target, it will trigger the purchase of ").concat(r.assetTokenSymbol," with staked $USB."):"Stake ".concat(r.assetTokenSymbol,", and when the ").concat(r.assetTokenSymbol," price rises to the target, staked ").concat(r.assetTokenSymbol," will be sold."),er=(0,g.D2)({abi:a.aT,address:X,functionName:"getAccruedMatchingYields",watch:!0}),ei=(0,u.ok)(er,"data"),en=(0,d.useMemo)(()=>{let e=(0,u.ok)(D,"totalStake");return 0n==e?"0.00%":(0,u.Jh)(ei*o.Pq/e,18,2)},[D.totalStake,ei]),ea=(0,d.useMemo)(()=>"2.00%",[U]),el=(0,d.useMemo)(()=>{let e=v?[{key:"eth_price",label:"ETH Price",value:(0,f.dq)(_[r.assetTokenAddress])},{key:"target_price",label:"Target Price",value:(0,f.dq)(ee)},{key:"apr_yield",label:"APR(".concat(V," Yield)"),value:ea},{key:"apr_interest",label:"APR(USB Interest)",value:(0,u.Jh)((0,u.ok)(q,"Y"),(0,u.ok)(q,"settingsDecimals"),2)},{key:"transacation_reward_pool",label:"Reward Pool",tip:"The reward funds originates from protocol, and when a purchase action is triggered, these funds will be distributed proportionally.",value:(0,i.jsx)(TokenValue,{symbol:H,value:ei})},{key:"discount_rate",label:"Reward Rate",tip:"This is an estimated value, to be determined upon triggering. Reward Rate =Reward/Transaction volume",value:"".concat(en," (Est.)")}]:[{key:"eth_price",label:"ETH Price",value:(0,f.dq)(_[r.assetTokenAddress])},{key:"target_price",label:"Target Price",value:(0,f.dq)(ee)},{key:"apr_yield",label:"APR(".concat(V," Yield)"),value:ea},{key:"transacation_reward_pool",label:"Reward Pool",tip:"The reward funds originates from protocol, and when a purchase action is triggered, these funds will be distributed proportionally.",value:(0,i.jsx)(TokenValue,{symbol:H,value:ei})},{key:"discount_rate",label:"Reward Rate",tip:"This is an estimated value, to be determined upon triggering. Reward Rate =Reward/Transaction volume",value:"".concat(en," (Est.)")}];return e},[D,ei]),eo=(0,d.useMemo)(()=>{let e=v?[{key:"successfully_brought",label:"Successfully Brought",value:(0,i.jsx)(TokenValue,{symbol:C,value:D.match})},{key:"x_earend",label:"".concat(V," earned"),value:(0,i.jsx)(TokenValue,{symbol:V,value:D.earn})}]:[{key:"successfully_sold",label:"Successfully Sold",value:(0,i.jsx)(TokenValue,{symbol:C,value:D.match})},{key:"x_earend",label:"".concat(H," earned"),value:(0,i.jsx)(TokenValue,{symbol:H,value:D.earnForMatch})}];return e},[D,ei]),{write:es,isDisabled:ed,isLoading:ec}=(0,p.R)({abi:a.aT,address:X,functionName:"claimAll"}),em=function(e){let t=(0,d.useRef)(null);return m[e]&&m[e].includes(t)||(m[e]=[...m[e]||[],t]),(0,d.useEffect)(()=>{if(!t.current)return()=>{};let onResize=()=>{let r=m[e]||[],i=r.reduce((e,t)=>{var r;return Math.max((null===(r=t.current)||void 0===r?void 0:r.clientHeight)||0,e)},0);r.filter(e=>e!=t).forEach(e=>{var t;let r=(null===(t=e.current)||void 0===t?void 0:t.clientHeight)||0;r!==i&&i>0&&e.current&&(e.current.style.height="".concat(i,"px"))})};return window.addEventListener("resize",onResize),onResize(),()=>{window.removeEventListener("resize",onResize)}},[t.current]),t}(r.vault);return(0,i.jsxs)("div",{className:"card flex flex-col",children:[(0,i.jsxs)("div",{className:"flex gap-5 items-center justify-between",ref:em,children:[(0,i.jsxs)("div",{className:"flex gap-3 md:gap-5 items-center",children:[(0,i.jsxs)("div",{className:"relative w-fit shrink-0",children:[(0,i.jsx)(M.c,{size:32,symbol:A,className:"md:hidden"}),(0,i.jsx)(M.c,{size:40,symbol:A,className:"hidden md:block"}),(0,i.jsx)(M.c,{size:16,symbol:C,className:"absolute -right-1 -bottom-1 md:hidden"}),(0,i.jsx)(M.c,{size:24,symbol:C,className:"absolute -right-2 -bottom-2 hidden md:block"})]}),(0,i.jsx)("div",{className:"flex items-center justify-between",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("h6",{className:"text-base leading-6 font-bold",children:L||"title"}),(0,i.jsx)(B.C,{children:et})]})})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"text-xs text-black font-medium text-right",children:["Total ",A," Staked"]}),(0,i.jsx)("div",{className:"text-base text-black text-end font-semibold",children:(0,f.dq)(D.totalStake)})]})]}),(0,i.jsx)(x.Z,{className:"my-4"}),(0,i.jsxs)(b.Z,{numItemsSm:2,className:"gap-x-2 min-h-[188px]",children:[(0,i.jsx)(b.Z,{numItemsSm:1,className:"gap-y-2 gap-x-7 md:border-r-[1px] border-[#E4E4E7] mb-[12px] md-0",children:null==el?void 0:el.map(e=>(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsxs)("div",{className:"text-xs text-black font-medium mr-[5px]",children:[e.label," : ",e.tip&&(0,i.jsx)(B.C,{children:e.tip})]}),(0,i.jsx)("div",{className:"text-neutral-900 text-sm",children:e.value})]},e.key))}),W&&(0,i.jsxs)(b.Z,{numItemsSm:1,className:"gap-x-1",children:[(0,i.jsx)("div",{className:"w-full border-t-[1px] border-[#E4E4E7] md:border-0 md:px-[20px]",children:null==eo?void 0:eo.map(e=>(0,i.jsxs)("div",{className:"flex items-center mt-[8px] md:mt-0 md:mb-2",children:[(0,i.jsxs)("div",{className:"text-xs text-black font-medium mr-[5px]",children:[e.label," :"]}),(0,i.jsx)("div",{className:"text-neutral-900 text-sm",children:e.value})]},e.key))}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"w-full flex justify-center items-center",children:(0,i.jsxs)("button",{className:"btn-primary px-4 h-7 flex items-center w-[60%] md:w-fit self-end justify-center gap-4 bg-[#64738B]",disabled:ed||ec,onClick:()=>es(),children:[ec&&(0,i.jsx)(S.$,{}),"Claim All"]})}),(0,i.jsxs)("div",{className:"flex mt-4 md:mt-[28px] justify-center items-center text-[#64748B] text-base font-medium",children:["Staked: ",(0,f.dq)(D.stake)," ",(0,i.jsx)("span",{className:"text-[#6466F1] ml-[5px] cursor-pointer",onClick:()=>F((0,w.d)(D.stake)),children:"Max"})]})]})]})]}),(0,i.jsx)("div",{className:"flex-1"}),(0,i.jsx)("div",{className:"flex justify-between",children:(0,i.jsx)("div",{className:"text-sm text-slate-500 flex flex-col gap-3"})}),W?(0,i.jsxs)("div",{className:"mt-4 md:mt-[30px]",children:[(0,i.jsx)(R.W,{amount:Z,setAmount:F,asset:A,balance:G,checkBalance:!1}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)(T.v,{tx:"Stake",disabled:O<=0n||O>G,onTxSuccess:()=>{F("")},config:{abi:a.aT,address:X,functionName:"stake",args:[O],value:"ETH"==A?O:0n},className:"mt-2 w-[45%]",approves:{[k]:O},spender:X}),(0,i.jsx)(T.v,{className:"mt-2 w-[45%]",tx:"Withdraw",disabled:O<=0n||O>D.stake,onTxSuccess:()=>{F("")},config:{abi:a.aT,address:X,functionName:"withdraw",args:[O]}})]})]}):(0,i.jsx)("div",{className:"w-full flex items-center justify-center mt-[30px]",children:(0,i.jsx)(N.Z,{})})]})}function GroupDualTokenCard(e){let{vcs:t,type:r}=e,[a,l]=(0,d.useState)(t[t.length-1]);return 0==t.length?null:1==t.length?(0,i.jsx)(DualTokenCard,{vc:t[0],type:r}):(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(DualTokenCard,{vc:a,type:r}),(0,i.jsx)("div",{className:"absolute z-10 left-[86px] top-0 flex text-sm",children:t.map((e,t)=>(0,i.jsx)("div",{className:(0,v.Z)("cursor-pointer rounded-b-full border border-blue-500 px-1 py-1",{"bg-white text-black":a!==e,"bg-blue-500 text-white":a===e}),onClick:()=>l(e),children:"V".concat(t+1)},"gdtc_"+t))})]})}var A=r(55139);function EarnPage(){let e=(0,s.p)(),t=(0,d.useMemo)(()=>l.iK[e].filter(e=>"ETH"==e.assetTokenSymbol),[e]);return(0,i.jsxs)("div",{className:"w-full h-full max-w-screen-xl px-4 mx-auto",children:[(0,i.jsx)("h2",{className:"page-title",children:"Price Trigger Yield"}),(0,i.jsxs)(A.r,{numItemsMd:2,className:"gap-3 mt-4",children:[(0,i.jsx)(GroupDualTokenCard,{vcs:t,type:"buy"}),(0,i.jsx)(GroupDualTokenCard,{vcs:t,type:"sell"})]})]})}},76036:function(e,t,r){"use strict";r.d(t,{v:function(){return ApproveAndTx}});var i=r(57437),a=r(72009),l=r(81628),o=r(2265),s=r(71424),d=r(56926),m=r(84661),g=r(54415);let p={},useApproves=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10000000000n*10n**18n,{address:i}=(0,d.mA)(),u=(0,g.uT)(),{data:h}=(0,d.py)(),[f,x]=(0,o.useState)(!1),b=(0,o.useMemo)(()=>Object.keys(e).filter(e=>e!==a.K8),[e]),[v,y]=(0,o.useState)(t&&p[t]||{}),updateAllownce=(e,r)=>{t&&(p[t]={...p[t]||{},[e]:r},y(t=>({...t,[e]:r})))},{data:k}=(0,d.Ov)(),w=(0,d.t_)();(0,o.useEffect)(()=>{i&&t&&b.forEach(e=>{u({abi:m.em,address:e,functionName:"allowance",args:[i,t]}).then(t=>updateAllownce(e,t||0n)).catch(console.error)})},[b,i,k]);let[j,T]=(0,o.useState)(!1),N=(0,o.useMemo)(()=>b.filter(t=>(0,l.ok)(e,t)>0n&&(0,l.ok)(e,t)>(0,l.ok)(v,t)),[e,b,v]),approve=async()=>{if(0!=N.length&&t)try{T(!0),x(!1);for(let i=0;i<N.length;i++){let a=N[i],l=!1===r?e[a]:r,o=await (null==h?void 0:h.writeContract({abi:m.em,address:a,functionName:"approve",args:[t,l]}));o&&await (null==w?void 0:w.waitForTransactionReceipt({hash:o})),updateAllownce(a,l)}s.A.success("Approve success"),T(!1),x(!0)}catch(e){throw s.A.error((0,l.az)(e)),T(!1),x(!1),e}};return{approve,loading:j,shouldApprove:N.length>0,isSuccess:f}};var u=r(43003),h=r(35769),f=r(72084);function ApproveAndTx(e){let{className:t,tx:r,approves:a,spender:l,requestAmount:s,config:d,toast:m=!0,disabled:g,onTxSuccess:p,onApproveSuccess:x}=e,{write:b,isDisabled:v,isLoading:y}=(0,u.R)({onSuccess:()=>p&&p(),...d},m),k=g||v||y||!1===d.enabled,{approve:w,shouldApprove:j,loading:T,isSuccess:N}=useApproves(a||{},l,s),R=(0,o.useRef)();return(R.current=x,(0,o.useEffect)(()=>{R.current&&N&&R.current()},[N]),j)?(0,i.jsxs)("button",{className:(0,h.m)("btn-primary flex items-center justify-center gap-4",t),onClick:w,disabled:g||!w||T,children:[T&&(0,i.jsx)(f.$,{}),"Approve"]}):(0,i.jsxs)("button",{className:(0,h.m)("btn-primary flex items-center justify-center gap-4",t),onClick:()=>b(),disabled:k,children:[y&&(0,i.jsx)(f.$,{}),r]})}},34776:function(e,t,r){"use strict";r.d(t,{Z:function(){return ConnectBtn}});var i=r(57437),a=r(14701);function ConnectBtn(){return(0,i.jsx)(a.NL,{chainStatus:"none",showBalance:!1})}},80547:function(e,t,r){"use strict";r.d(t,{W:function(){return AssetInput}});var i=r(57437),a=r(81628),l=r(20373),o=r(57042),s=r(2265),d=r(28881),m=r(16775),g=r(51549);function AssetInput(e){let{asset:t="ETH",checkBalance:r=!0,balance:p,balanceTit:u="Balance",balanceDecimals:h=18,exchange:f,readonly:x,selected:b,onClick:v,amount:y,setAmount:k,price:w,disable:j,hasInput:T=!1,options:N,onChange:R=()=>{},defaultValue:M,balanceClassName:S="",disableNegative:B}=e,A=(0,s.useRef)(null),C=r&&void 0!==p&&(0,a.su)("number"==typeof y?y+"":y||"")>("bigint"==typeof p?p:0n);return(0,i.jsxs)("div",{className:"relative w-full",onClick:()=>{v&&!j&&v()},children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsxs)("div",{className:"absolute flex items-center gap-2 top-1/2 left-4 -translate-y-1/2 max-w-[calc(100%-24px)] overflow-hidden",children:[(0,i.jsx)(g.c,{size:24,symbol:t}),(0,i.jsxs)("div",{className:"text-base font-medium",children:[(0,i.jsxs)("div",{children:[T?(0,i.jsx)(d.ZP,{options:N,onChange:R,defaultValue:M,styles:{control:(e,t)=>({...e,border:"0px",minHeight:"24px",padding:"0px",background:"rgb(248 250 252)"})}}):(0,i.jsx)("div",{children:t}),w&&(0,i.jsx)("div",{className:"text-neutral-500 text-xs",children:w})]}),f&&(0,i.jsxs)("div",{className:"text-slate-500 text-xs",children:["~$",f]})]})]}),(0,i.jsx)("input",{value:y,onChange:e=>{let t=(e.target.value||"").replaceAll("-","").replaceAll("+","");k(t)},ref:A,type:"number",disabled:j,className:(0,o.Z)(x?"bg-slate-50":"bg-white",{"border-green-700 border-2":b,"border-red-400 !border-2 focus:border-red-400":C,"border-slate-400  focus:border-blue-400":!C&&!b},"w-full h-14 text-right pr-4 pl-[8rem] font-bold text-2xl border focus:border-2 text-slate-700 rounded-md outline-none "),placeholder:"0.000",maxLength:36,pattern:"[0-9.]{36}",step:.01,title:"",readOnly:x})]}),void 0!=p&&(0,i.jsxs)("div",{className:"flex items-center justify-between mt-1 px-1 text-slate-400 text-sm",children:[(0,i.jsxs)("div",{className:S,children:[(0,i.jsxs)("span",{children:[u,": ",(0,l.Rp)(p,3,h)]}),(0,i.jsx)("button",{className:"text-indigo-500 ml-2",onClick:()=>{let e=(0,m.b)(p,h);k(e),v&&!j&&v()},children:"Max"})]}),(0,i.jsx)("div",{className:"text-sm text-red-400",children:C?"Insufficient account balance":""})]})]})}},51549:function(e,t,r){"use strict";r.d(t,{c:function(){return CoinIcon}});var i=r(57437);function CoinIcon(e){let{symbol:t,size:r=48,...a}=e;return(0,i.jsx)("img",{...a,width:r,height:r,src:"/".concat(t,".svg"),alt:t})}},72084:function(e,t,r){"use strict";r.d(t,{$:function(){return Spinner}});var i=r(57437);let Spinner=e=>{let{className:t}=e;return(0,i.jsxs)("svg",{fill:"none",className:t?"text-white":"animate-spin h-5 w-5 2-ml-1 2mr-3",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},64020:function(e,t,r){"use strict";r.d(t,{C:function(){return Tip}});var i=r(57437),a=r(75224),l=r(40311);function Tip(e){let{children:t,node:r}=e,o=document.getElementById("tooltip-root");return(0,i.jsx)(a.zt,{children:(0,i.jsxs)(a.fC,{children:[(0,i.jsx)(a.xz,{asChild:!0,children:r?(0,i.jsx)("div",{className:"inline-block cursor-default",style:{verticalAlign:"text-bottom"},children:r}):(0,i.jsx)("div",{className:"inline-block px-[3px] cursor-default relative",style:{transform:"translateY(-6%)"},children:(0,i.jsx)(l.apP,{className:"inline-block stroke-slate-500",style:{fontSize:"1.3em"}})})}),(0,i.jsx)(a.h_,{container:o,children:(0,i.jsxs)(a.VY,{className:"max-w-xs text-sm text-white bg-slate-900 rounded-md p-4",children:[t,(0,i.jsx)(a.Eh,{})]})})]})})}},43003:function(e,t,r){"use strict";r.d(t,{R:function(){return useWrapContractWrite}});var i=r(81628),a=r(2265),l=r(71424),o=r(56926);function useWrapContractWrite(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],[r,s]=(0,a.useState)(!1),[d,m]=(0,a.useState)(!1),g=(0,o.t_)(),{data:p}=(0,o.py)(),u=!g||!p||!p.account||r||!e||"object"==typeof e&&!1==e.enabled,write=async()=>{if(!u){s(!0),m(!1);try{let r="function"==typeof e?await e():e,{request:i}=await g.simulateContract({account:p.account,...r}),a=await p.writeContract(i),o=await g.waitForTransactionReceipt({hash:a});if("success"!==o.status)throw"Transaction reverted";m(!0),r.onSuccess&&r.onSuccess({}),t&&l.A.success("Transaction success")}catch(e){t&&l.A.error((0,i.az)(e))}s(!1)}};return{write,isDisabled:u,isLoading:r,isSuccess:d}}},20373:function(e,t,r){"use strict";r.d(t,{Rp:function(){return displayBalanceWithUnit},ZM:function(){return displayBalanceWithoutFormat},dq:function(){return displayBalance}});var i=r(16775),a=r(79352);let displayBalanceWithUnit=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2?arguments[2]:void 0;if(!e)return"0";let a=10**t,l=Math.floor(Number((0,i.b)(e,r))*a)/a,o=Number((.1**t).toFixed(t));return l>0&&l<o?"<"+o:l<0&&l>-o?">-"+o:l.toLocaleString("en-US",{maximumFractionDigits:t})},displayBalance=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(!e)return"0";let r=Number((0,a.d)(e)),i=Number((.1**t).toFixed(t));return r>0&&r<i?"<"+i:r<0&&r>-i?">-"+i:r.toLocaleString("en-US",{maximumFractionDigits:t})},displayBalanceWithoutFormat=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(!e)return"0";let r=10**t,i=Math.floor(Number((0,a.d)(e))*r)/r,l=Number((.1**t).toFixed(t));return i>0&&i<l?"<"+l:i<0&&i>-l?">-"+l:String(i)}}},function(e){e.O(0,[1866,9472,1787,4102,4282,7240,4725,612,7209,9356,5224,9724,4322,2971,2472,1744],function(){return e(e.s=62166)}),_N_E=e.O()}]);