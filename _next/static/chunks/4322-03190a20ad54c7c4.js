(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4322],{46601:function(){},54653:function(t,e,n){"use strict";n.d(e,{nq:function(){return a},aT:function(){return i},S4:function(){return s},WW:function(){return u},Wn:function(){return p}});var a=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],i=[{inputs:[{internalType:"uint256",name:"yieldsAmount",type:"uint256"}],name:"addMatchingYields",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"yieldsAmount",type:"uint256"}],name:"addStakingYields",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"claimAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"earnedMatchedToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"earnedMatchingYields",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"earnedStakingYields",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"exit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAccruedMatchingYields",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMatchingOutTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getMatchingTokensAndYields",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getMatchingYields",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"stakingShares",type:"uint256"}],name:"getStakingBalanceByShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"stakingBalance",type:"uint256"}],name:"getStakingSharesByBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStakingYields",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"machingYieldsToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assetAmountAdded",type:"uint256"}],name:"notifyBuyLowTriggered",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"assetAmountMatched",type:"uint256"},{internalType:"uint256",name:"usbSharesReceived",type:"uint256"}],name:"notifySellHighTriggered",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"settings",outputs:[{internalType:"contract IProtocolSettings",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"stake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"stakingToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"stakingYieldsToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"targetToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalStakingBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalStakingShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"userStakingBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"userStakingShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"vault",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"wandProtocol",outputs:[{internalType:"contract IWandProtocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],u=[{inputs:[],name:"AARBelowCircuitBreakerLineTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"AARBelowSafeLineTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"AARDecimals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"assetBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"assetToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"assetTokenDecimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"assetTokenPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"marginToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"mintMarginTokensBelowAARS",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"mintPairs",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"mintUsbAboveAARU",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"param",type:"bytes32"}],name:"paramValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauseMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pauseRedeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceFeed",outputs:[{internalType:"contract IPriceFeed",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"ptyPoolBuyLow",outputs:[{internalType:"contract IPtyPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"ptyPoolSellHigh",outputs:[{internalType:"contract IPtyPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"marginTokenAmount",type:"uint256"}],name:"redeemByMarginTokenAboveAARU",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"marginTokenAmount",type:"uint256"}],name:"redeemByPairsWithExpectedMarginTokenAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"redeemByPairsWithExpectedUsbAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"redeemByUsbBelowAARS",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_ptyPoolBuyLow",type:"address"},{internalType:"address",name:"_ptyPoolSellHigh",type:"address"}],name:"setPtyPools",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"settings",outputs:[{internalType:"contract IProtocolSettings",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenPot",outputs:[{internalType:"contract TokenPot",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpauseMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpauseRedeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"usbToMarginTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usbToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"usbTotalShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"usbTotalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"vaultMode",outputs:[{internalType:"enum Constants.VaultMode",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"vaultType",outputs:[{internalType:"enum Constants.VaultType",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[],name:"wandProtocol",outputs:[{internalType:"contract IWandProtocol",name:"",type:"address"}],stateMutability:"view",type:"function"}],p=[{inputs:[{internalType:"contract Vault",name:"vault",type:"address"}],name:"AAR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Vault",name:"vault",type:"address"},{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"calcMintMarginTokensBelowAARS",outputs:[{components:[{internalType:"uint256",name:"M_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_ETH",type:"uint256"},{internalType:"uint256",name:"M_ETHx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AART",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARU",type:"uint256"},{internalType:"uint256",name:"AARC",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"},{internalType:"uint256",name:"AARBelowCircuitBreakerLineTime",type:"uint256"}],internalType:"struct Constants.VaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract StableVault",name:"vault",type:"address"},{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"calcMintMarginTokensFromStableVault",outputs:[{components:[{internalType:"uint256",name:"M_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_USDC",type:"uint256"},{internalType:"uint256",name:"M_USDCx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"}],internalType:"struct Constants.StableVaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Vault",name:"vault",type:"address"},{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"calcMintPairs",outputs:[{components:[{internalType:"uint256",name:"M_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_ETH",type:"uint256"},{internalType:"uint256",name:"M_ETHx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AART",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARU",type:"uint256"},{internalType:"uint256",name:"AARC",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"},{internalType:"uint256",name:"AARBelowCircuitBreakerLineTime",type:"uint256"}],internalType:"struct Constants.VaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract StableVault",name:"vault",type:"address"},{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"calcMintPairsFromStableVault",outputs:[{components:[{internalType:"uint256",name:"M_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_USDC",type:"uint256"},{internalType:"uint256",name:"M_USDCx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"}],internalType:"struct Constants.StableVaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Vault",name:"vault",type:"address"},{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"calcMintUsbAboveAARU",outputs:[{components:[{internalType:"uint256",name:"M_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_ETH",type:"uint256"},{internalType:"uint256",name:"M_ETHx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AART",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARU",type:"uint256"},{internalType:"uint256",name:"AARC",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"},{internalType:"uint256",name:"AARBelowCircuitBreakerLineTime",type:"uint256"}],internalType:"struct Constants.VaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract StableVault",name:"vault",type:"address"},{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"calcMintUsbFromStableVault",outputs:[{components:[{internalType:"uint256",name:"M_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_USDC",type:"uint256"},{internalType:"uint256",name:"M_USDCx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"}],internalType:"struct Constants.StableVaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Vault",name:"vault",type:"address"},{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"calcPairdMarginTokenAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract StableVault",name:"vault",type:"address"},{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"calcPairdMarginTokenAmountForStableVault",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Vault",name:"vault",type:"address"},{internalType:"uint256",name:"marginTokenAmount",type:"uint256"}],name:"calcPairedRedeemAssetAmount",outputs:[{components:[{internalType:"uint256",name:"M_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_ETH",type:"uint256"},{internalType:"uint256",name:"M_ETHx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AART",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARU",type:"uint256"},{internalType:"uint256",name:"AARC",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"},{internalType:"uint256",name:"AARBelowCircuitBreakerLineTime",type:"uint256"}],internalType:"struct Constants.VaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Vault",name:"vault",type:"address"},{internalType:"uint256",name:"marginTokenAmount",type:"uint256"}],name:"calcPairedUsbAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract StableVault",name:"vault",type:"address"},{internalType:"uint256",name:"marginTokenAmount",type:"uint256"}],name:"calcPairedUsbAmountForStableVault",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Vault",name:"vault",type:"address"},{internalType:"uint256",name:"marginTokenAmount",type:"uint256"}],name:"calcRedeemByMarginTokenAboveAARU",outputs:[{components:[{internalType:"uint256",name:"M_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_ETH",type:"uint256"},{internalType:"uint256",name:"M_ETHx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AART",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARU",type:"uint256"},{internalType:"uint256",name:"AARC",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"},{internalType:"uint256",name:"AARBelowCircuitBreakerLineTime",type:"uint256"}],internalType:"struct Constants.VaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract StableVault",name:"vault",type:"address"},{internalType:"contract IProtocolSettings",name:"settings",type:"address"},{internalType:"uint256",name:"marginTokenAmount",type:"uint256"}],name:"calcRedeemByMarginTokensFromStableVault",outputs:[{components:[{internalType:"uint256",name:"M_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_USDC",type:"uint256"},{internalType:"uint256",name:"M_USDCx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"}],internalType:"struct Constants.StableVaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract StableVault",name:"vault",type:"address"},{internalType:"contract IProtocolSettings",name:"settings",type:"address"},{internalType:"uint256",name:"marginTokenAmount",type:"uint256"}],name:"calcRedeemByPairsAssetAmountForStableVault",outputs:[{components:[{internalType:"uint256",name:"M_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_USDC",type:"uint256"},{internalType:"uint256",name:"M_USDCx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"}],internalType:"struct Constants.StableVaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Vault",name:"vault",type:"address"},{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"calcRedeemByUsbBelowAARS",outputs:[{components:[{internalType:"uint256",name:"M_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_ETH",type:"uint256"},{internalType:"uint256",name:"M_ETHx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AART",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARU",type:"uint256"},{internalType:"uint256",name:"AARC",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"},{internalType:"uint256",name:"AARBelowCircuitBreakerLineTime",type:"uint256"}],internalType:"struct Constants.VaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract StableVault",name:"vault",type:"address"},{internalType:"contract IProtocolSettings",name:"settings",type:"address"},{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"calcRedeemByUsbFromStableVault",outputs:[{components:[{internalType:"uint256",name:"M_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_USDC",type:"uint256"},{internalType:"uint256",name:"M_USDCx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"}],internalType:"struct Constants.StableVaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Vault",name:"vault",type:"address"},{internalType:"contract IProtocolSettings",name:"settings",type:"address"},{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"calcUsbToMarginTokens",outputs:[{components:[{internalType:"uint256",name:"M_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_ETH",type:"uint256"},{internalType:"uint256",name:"M_ETHx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AART",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARU",type:"uint256"},{internalType:"uint256",name:"AARC",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"},{internalType:"uint256",name:"AARBelowCircuitBreakerLineTime",type:"uint256"}],internalType:"struct Constants.VaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract StableVault",name:"vault",type:"address"},{internalType:"contract IProtocolSettings",name:"settings",type:"address"},{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"calcUsbToMarginTokensForStableVault",outputs:[{components:[{internalType:"uint256",name:"M_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_USDC",type:"uint256"},{internalType:"uint256",name:"M_USDCx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"}],internalType:"struct Constants.StableVaultState",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract StableVault",name:"vault",type:"address"}],name:"getStableVaultState",outputs:[{components:[{internalType:"uint256",name:"M_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC",type:"uint256"},{internalType:"uint256",name:"P_USDC_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_USDC",type:"uint256"},{internalType:"uint256",name:"M_USDCx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"}],internalType:"struct Constants.StableVaultState",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Vault",name:"vault",type:"address"}],name:"getVaultState",outputs:[{components:[{internalType:"uint256",name:"M_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH",type:"uint256"},{internalType:"uint256",name:"P_ETH_DECIMALS",type:"uint256"},{internalType:"uint256",name:"M_USB_ETH",type:"uint256"},{internalType:"uint256",name:"M_ETHx",type:"uint256"},{internalType:"uint256",name:"aar",type:"uint256"},{internalType:"uint256",name:"AART",type:"uint256"},{internalType:"uint256",name:"AARS",type:"uint256"},{internalType:"uint256",name:"AARU",type:"uint256"},{internalType:"uint256",name:"AARC",type:"uint256"},{internalType:"uint256",name:"AARDecimals",type:"uint256"},{internalType:"uint256",name:"RateR",type:"uint256"},{internalType:"uint256",name:"AARBelowSafeLineTime",type:"uint256"},{internalType:"uint256",name:"AARBelowCircuitBreakerLineTime",type:"uint256"}],internalType:"struct Constants.VaultState",name:"",type:"tuple"}],stateMutability:"view",type:"function"}],s=[{inputs:[],name:"AARBelowCircuitBreakerLineTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"AARBelowSafeLineTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"AARDecimals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"assetBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"assetToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"assetTokenDecimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"assetTokenPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"marginToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"mintMarginTokens",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"mintPairs",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"mintUsb",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"param",type:"bytes32"}],name:"paramValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauseMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pauseRedeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceFeed",outputs:[{internalType:"contract IPriceFeed",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"marginTokenAmount",type:"uint256"}],name:"redeemByMarginTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"marginTokenAmount",type:"uint256"}],name:"redeemByPairsWithExpectedMarginTokenAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"redeemByPairsWithExpectedUsbAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"redeemByUsb",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"settings",outputs:[{internalType:"contract IProtocolSettings",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenPot",outputs:[{internalType:"contract TokenPot",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpauseMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpauseRedeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"usbToMarginTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usbToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"usbTotalShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"usbTotalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"vaultMode",outputs:[{internalType:"enum Constants.VaultMode",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[],name:"vaultType",outputs:[{internalType:"enum Constants.VaultType",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[],name:"wandProtocol",outputs:[{internalType:"contract IWandProtocol",name:"",type:"address"}],stateMutability:"view",type:"function"}]},91056:function(t,e,n){"use strict";n.d(e,{Af:function(){return p},BV:function(){return getCurrentChainId},ON:function(){return y},dm:function(){return u},rv:function(){return setCurrentChainId}});var a=n(75398),i=n(71186);let u=(0,i.a)({id:168587773,name:"Blast Sepolia",network:"blast sepolia",testnet:!0,nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},iconUrl:"https://blast.io/favicon.svg",iconBackground:"#000",rpcUrls:{default:{http:["https://sepolia.blast.io"]},public:{http:["https://sepolia.blast.io"]}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:756690}}}),p=[u,a.F],s={id:a.F.id},getCurrentChainId=()=>s.id,setCurrentChainId=t=>{p.find(e=>e.id==t)&&(s.id=t)},y={}},72009:function(t,e,n){"use strict";n.d(e,{K8:function(){return p},O1:function(){return u},O6:function(){return s},e_:function(){return y},iK:function(){return l}});var a=n(26266),i=n(91056);let u={[a.Fo.id]:"0xaF486b0d7F0d325dea11654146cb49CBe9A34045",[i.dm.id]:"0xA66BC864Cc4C59570316217801686c3A29bD9783"},p="0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",s={[a.Fo.id]:"0x99FE26697c374F552ADb0D8BC84C576aD3786eAc",[i.dm.id]:"0x43A00D4BB051A9338A3444Ad85c4A94bF25f6044"},y={[a.Fo.id]:"0x6c61C525C1A732899871B4Ecbd375ED10a3bEa68",[i.dm.id]:"0xb15BD2c5F2f9BAd2e017954Db9f410FF02b0c915"},l={[a.Fo.id]:[{vault:"0x01c7cF3eB85a36C8c28B4901271ef9Fc7f83c7fc",assetTokenSymbol:"ETH",assetTokenAddress:p,assetTokenFeed:"0x9BBf686aE4CBc0053C97671a8ae1A002D7E07EF0",xTokenSymbol:"ETHx",xTokenAddress:"0xA9140B16e64d43CDB51a0e20Ef1c855444184071",ptyPoolBelowAddress:"0xD6C885f3091D8d43E6C4e892c9aF1f10155bf056",ptyPoolAboveAddress:"0x117C99bDd71ca89A8DC4ac4Ea3616b5a839531A7"},{vault:"0x6ECd0b120B724F9AE726394975c20C1034135C3A",assetTokenSymbol:"USDC",assetTokenAddress:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",assetTokenFeed:"0xC1D38564aDb8352be96a32cd8bC7BD31676d3d7c",xTokenSymbol:"USDCx",xTokenAddress:"0x3aB2De8491fE9C410F3cd18e9Eee948A39cad97A",isStable:!0}],[i.dm.id]:[{vault:"0x28443C5637D7688Dc94baEc849dF44Ed23A1Ce16",assetTokenSymbol:"ETH",assetTokenAddress:p,assetTokenFeed:"0x5C85863ADbb8318EfA1E7a3c694E1b33692e97E2",xTokenSymbol:"ETHx",xTokenAddress:"0xDd6245a1cE2cc5DE91eA4000f790bbCBED572dCF",ptyPoolBelowAddress:"0xdc1e86Abd837d693808a0FDAF6fd7cD5e449af54",ptyPoolAboveAddress:"0xF6D06Eab400c62b34baec3e5d1B901b1064D34F9"},{vault:"0xBc4647B83448b8Ed4b1730A0B3D10f1F67924d14",assetTokenSymbol:"USDB",assetTokenAddress:"0x4200000000000000000000000000000000000022",assetTokenFeed:"0xd238DEf592F47CEDfE7aD1e6B8Be0ac29A7B49b0",xTokenSymbol:"USDBx",xTokenAddress:"0x37a93ffa77E7B0072030fD03F0FD4ca4a2A378cA",isStable:!0}]}},8580:function(t,e,n){"use strict";n.d(e,{Hj:function(){return i},Pq:function(){return p},pn:function(){return s},v:function(){return a},xb:function(){return u}});let a="https://twitter.com/WandProtocol",i="https://discord.gg/fy6A7JCE5N",u="https://docs.wand.fi",p=BigInt(1e18),s=864e5},54415:function(t,e,n){"use strict";n.d(e,{D2:function(){return useWandContractRead},uT:function(){return useReadContract},uX:function(){return useWandContractReads}});var a=n(2265),i=n(56926),u=n(2890),p=n.n(u);function useReadContract(){let t=(0,i.t_)();return e=>t.readContract(e)}function useWandContractRead(t){var e;(0,i.ZR)(),void 0==t.enabled&&(t.enabled=!0),t.keepPreviousData=!0;let n=(0,i.xx)({chainId:t.chainId}),{data:u}=(0,i.Ov)({chainId:n,enabled:t.watch||t.cacheOnBlock,scopeKey:t.watch||t.cacheOnBlock?void 0:"idle",watch:t.watch}),p=null!==(e=t.blockNumber)&&void 0!==e?e:u,s=(0,a.useMemo)(()=>[{account:t.account,address:t.address,args:t.args,blockNumber:t.cacheOnBlock?p:void 0,blockTag:t.blockTag,chainId:n,functionName:t.functionName,scopeKey:t.scopeKey}],[t.account,t.address,t.args,p,t.blockTag,t.cacheOnBlock,n,t.functionName,t.scopeKey]),y=(0,a.useMemo)(()=>{let e=!!(t.enabled&&t.abi&&t.address&&t.functionName);return t.cacheOnBlock&&(e=!!(e&&p)),e},[t.abi,t.address,p,t.cacheOnBlock,t.enabled,t.functionName]),l=useReadContract();return(0,i.aM)(s,async()=>{let e=await l(t);return e},{cacheTime:t.cacheTime,enabled:y,isDataEqual:t.isDataEqual,keepPreviousData:t.keepPreviousData,select:t.select,staleTime:t.staleTime,structuralSharing:t.structuralSharing,suspense:t.suspense,onError:t.onError,onSettled:t.onSettled,onSuccess:t.onSuccess})}function useWandContractReads(t){var e,n;(0,i.ZR)(),t.keepPreviousData=!0;let u=null===(e=t.allowFailure)||void 0===e||e,{data:s}=(0,i.Ov)({enabled:t.watch||t.cacheOnBlock,watch:t.watch}),y=(0,i.xx)(),l=null!==(n=t.blockNumber)&&void 0!==n?n:s,r=(0,a.useMemo)(()=>{var e;return[{entity:"readContracts",allowFailure:u,blockNumber:l,blockTag:t.blockTag,chainId:y,scopeKey:t.scopeKey,contracts:(null!==(e=t.contracts)&&void 0!==e?e:[]).map(t=>{let{address:e,args:n,chainId:a,functionName:i}=t;return{address:e,args:n,chainId:a,functionName:i}})}]},[u,l,t.blockTag,t.cacheOnBlock,y,t.scopeKey,t.contracts]),o=(0,a.useMemo)(()=>{var e;let n=!!(t.enabled&&(null===(e=t.contracts)||void 0===e?void 0:e.every(t=>t.abi&&t.address&&t.functionName)));return t.cacheOnBlock&&(n=!!(n&&l)),n},[l,t.cacheOnBlock,t.contracts,t.enabled]),m=useReadContract();return(0,i.aM)(r,async()=>{let e=t.contracts||[],readContracts=async()=>{let t=p().chunk(e,10),n=[];for(let e=0;e<t.length;e++){let a=t[e],i=await Promise.all(a.map(t=>m(t).catch(t=>void 0)));n=n.concat(i.map(t=>({result:t})))}return n},n=await readContracts();return n},{cacheTime:t.cacheTime,enabled:o,isDataEqual:t.isDataEqual,keepPreviousData:t.keepPreviousData,select:t.select,staleTime:t.staleTime,structuralSharing:t.structuralSharing,suspense:t.suspense,onError:t.onError,onSettled:t.onSettled,onSuccess:t.onSuccess})}},81628:function(t,e,n){"use strict";n.d(e,{Jh:function(){return fmtPercent},NA:function(){return bnMin},Rr:function(){return fmtAAR},S3:function(){return handleError},az:function(){return getErrorMsg},ok:function(){return getBigint},pF:function(){return aarToNumber},su:function(){return parseEthers}});var a=n(16775),i=n(36238),u=n(43977),p=n(98614),s=n.n(p),y=n(71424);function getErrorMsg(t){let e="Unkown";return("string"==typeof t?e=t:"string"==typeof(null==t?void 0:t.msg)?e=null==t?void 0:t.msg:"string"==typeof(null==t?void 0:t.message)&&(e=null==t?void 0:t.message),e.includes("User denied")||e.includes("user rejected transaction"))?"You declined the action in your wallet.":e.includes("transaction failed")?"Transaction failed":e}function handleError(t){y.A.error(getErrorMsg(t))}function aarToNumber(t,e){let n=(0,a.b)("bigint"==typeof t?t:0n,"bigint"==typeof e?parseInt(e.toString()):e);return parseFloat(n)}function fmtAAR(t,e){let n=100*aarToNumber(t,e);return n>999999999?">999999999%":n.toFixed()+"%"}function parseEthers(t,e){t||(t="0"),t=t.replaceAll(",","");let n="number"==typeof e?e:i.ez[e||"wei"];return(0,u.v)(t,n)}function fmtPercent(t,e,n){let i="bigint"==typeof e?parseInt(e.toString()):e,u=(0,a.b)(100n*t,i);return parseFloat(u.replaceAll(",","")).toFixed(n)+"%"}function getBigint(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0n,a=s()(t,e,n);return"bigint"==typeof a?a:"number"==typeof a?BigInt(a):n}function bnMin(t){return t.length<=0?0n:t.reduce((t,e)=>e<t?e:t,t[0])}},15898:function(t,e,n){"use strict";n.d(e,{g:function(){return f},A:function(){return FetcherProvider}});var a=n(57437),i=n(54653),u=n(91056),p=n(72009);let getTokens=()=>p.iK[(0,u.BV)()].map(t=>({symbol:t.assetTokenSymbol,address:t.assetTokenAddress})).concat(p.iK[(0,u.BV)()].map(t=>({symbol:t.xTokenSymbol,address:t.xTokenAddress}))).concat([{symbol:"USB",address:p.O1[(0,u.BV)()]}]).filter(t=>"ETH"!==t.symbol);var s=n(8580),y=n(2265),l=n(56926),r=n(32699),o=n(93362),m=n(54415),c=n(81628),T=n(24033),d=n(21693),b=n(16775),A=n(84661);function proxyGetDef(t,e){return new Proxy(t,{get:function(t,n){return n in t&&null!==t[n]&&void 0!==t[n]?t[n]:e}})}let f=(0,y.createContext)({balances:proxyGetDef({},0n),totalSupplies:proxyGetDef({},0n),prices:proxyGetDef({},0n),assetLocked:proxyGetDef({},0n),aar:proxyGetDef({},0),vaultUSBTotal:proxyGetDef({},0n),vaultsMode:proxyGetDef({},0),vaultsDiscount:proxyGetDef({},!1),vaultsState:proxyGetDef({},proxyGetDef({},0n)),stableVaultsState:proxyGetDef({},proxyGetDef({},0n)),earns:proxyGetDef({},0n)}),FetcherProvider=t=>{let{children:e}=t,n=(0,T.usePathname)(),S="/"!=n,M=(0,l.xx)();(0,u.rv)(M),function(){let{chainId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,l.t_)({chainId:t});y.useMemo(()=>{let t=function(t){var e,n;let{chain:a,transport:i}=t,u={chainId:a.id,name:a.name,ensAddress:null===(n=a.contracts)||void 0===n?void 0:null===(e=n.ensRegistry)||void 0===e?void 0:e.address};return"fallback"===i.type?new r.H(i.transports.map(t=>{let{value:e}=t;return new o.r(null==e?void 0:e.url,u)})):new o.r(i.url,u)}(e);return u.ON.provider=t,t},[e])}();let v=(0,u.BV)(),{address:k}=(0,l.mA)(),{data:w}=(0,l.KQ)({address:k,watch:!0,enabled:!!k&&S,chainId:(0,u.BV)()}),D=(0,y.useMemo)(()=>getTokens(),[(0,u.BV)()]),g=(0,y.useMemo)(()=>({contracts:[...D.map(t=>({address:t.address,abi:A.em,functionName:"balanceOf",args:[k],chainId:(0,u.BV)()})),...D.map(t=>({address:t.address,abi:A.em,functionName:"totalSupply",chainId:(0,u.BV)()}))],watch:!0,enabled:!!k&&S,allowFailure:!0}),[D,k,S]),{data:B}=(0,m.uX)(g),C=D.length,R=(0,y.useMemo)(()=>null==B?void 0:B.filter((t,e)=>e<C).map((t,e)=>{var n;return{symbol:null===(n=D[e])||void 0===n?void 0:n.symbol,balance:(0,c.ok)(t,"result")}}),[B,D]),E=(0,y.useMemo)(()=>proxyGetDef({},0n),[]);E.ETH=(null==w?void 0:w.value)||0n,null==R||R.forEach(t=>{E[t.symbol]=t.balance});let _={};D.forEach((t,e)=>{_[t.symbol]=(0,c.ok)(B,[e+C,"result"])});let h=p.iK[v],P=function(){let t=(0,T.usePathname)(),e="/"!=t;(0,l.xx)();let n=p.iK[(0,u.BV)()],{data:a}=(0,m.uX)({watch:!0,enabled:e,contracts:[...n.map(t=>({vc:t,abi:i.nq,address:t.assetTokenFeed,functionName:"latestPrice"}))]}),{data:r}=(0,m.uX)({watch:!0,cacheTime:s.pn,enabled:e,contracts:[...n.map(t=>({abi:i.nq,address:t.assetTokenFeed,functionName:"decimals"}))]});return(0,y.useMemo)(()=>{let t={};return n.forEach((e,n)=>{let i=(0,c.ok)(a,[n,"result"]),u=(0,c.ok)(r,[n,"result"]);t[e.assetTokenSymbol]=[i,u]}),t},[a,r,n])}(),x=(0,y.useMemo)(()=>({watch:!0,enabled:S,contracts:[...h.map(t=>({vc:t,abi:i.WW,address:t.vault,functionName:"assetBalance"}))]}),[h,S]),{data:U}=(0,m.uX)(x),V=(0,y.useMemo)(()=>({watch:!0,enabled:S,contracts:[...h.map(t=>({abi:i.WW,address:t.vault,functionName:"usbTotalSupply"}))]}),[S,h]),{data:F}=(0,m.uX)(V),H=(0,y.useMemo)(()=>({watch:!0,enabled:S,contracts:[...h.map(t=>({vc:t,abi:i.Wn,address:p.O6[v],functionName:"AAR",args:[t.vault]}))]}),[S,h]),{data:L}=(0,m.uX)(H),I=(0,y.useMemo)(()=>({cacheTime:s.pn,enabled:S,contracts:[...h.map(t=>({abi:i.WW,address:t.vault,functionName:"AARDecimals"}))]}),[S,h]),{data:N}=(0,m.uX)(I),G=(0,y.useMemo)(()=>({watch:!0,enabled:S,contracts:[...h.map(t=>({abi:i.WW,address:t.vault,functionName:"vaultMode"}))]}),[S,h]),{data:W}=(0,m.uX)(G),O=(0,y.useMemo)(()=>({watch:!0,enabled:S,contracts:[...h.map(t=>({vc:t,abi:i.Wn,address:p.O6[v],functionName:t.isStable?"getStableVaultState":"getVaultState",args:[t.vault]}))]}),[S,h]),{data:K}=(0,m.uX)(O),Y=(0,y.useMemo)(()=>({cacheTime:s.pn,enabled:S,contracts:[...h.map(t=>({vc:t,abi:i.WW,address:t.vault,functionName:"paramValue",args:[(0,d.$G)("Y",{size:32})]}))]}),[S,h]),{data:q}=(0,m.uX)(Y),X=(0,y.useMemo)(()=>proxyGetDef({USB:s.Pq},0n),[]),z=(0,y.useMemo)(()=>proxyGetDef({},0n),[]),j=(0,y.useMemo)(()=>proxyGetDef({},0n),[]),J=(0,y.useMemo)(()=>proxyGetDef({},0n),[]),Z=(0,y.useMemo)(()=>proxyGetDef({},0),[]),$=(0,y.useMemo)(()=>proxyGetDef({},proxyGetDef({},0n)),[]),Q=(0,y.useMemo)(()=>proxyGetDef({},proxyGetDef({},0n)),[]),tt=function(t,e,n){let a=(0,y.useMemo)(()=>proxyGetDef({},!1),[]);(0,l.xx)();let s=p.iK[(0,u.BV)()],{data:r}=(0,m.uX)({contracts:s.map(t=>({vc:t,abi:i.WW,address:t.vault,functionName:"paramValue",args:[(0,d.$G)("CircuitBreakPeriod",{size:32})]}))});return s.forEach((i,u)=>{if(i.isStable){let t=e[(null==i?void 0:i.vault)||"null"];a[i.vault]=t&&t.aar>=t.AARS}else{let e=(0,c.ok)(r,[u,"result"]),p=t[(null==i?void 0:i.vault)||"null"],s=n[(null==i?void 0:i.vault)||"null"],y=(0,c.ok)(p,"AARBelowCircuitBreakerLineTime"),l=2==s&&p&&((0,c.ok)(p,"aar")>=(0,c.ok)(p,"AARC")||BigInt(new Date().getTime()/1e3)-y>=e);a[i.vault]=l}}),a}($,Q,Z);h.forEach((t,e)=>{var n,a,i;let u=(0,c.ok)(U,[e,"result"]),p=(0,c.ok)(F,[e,"result"]),y=(0,c.ok)(P[t.assetTokenSymbol],[0]),l=(0,c.ok)(P[t.assetTokenSymbol],[1]);J[t.vault]=p;let r=l>0n?y*s.Pq/10n**l:0n;X[t.assetTokenSymbol]=r;let o=(0,c.ok)(_,t.xTokenSymbol),m=o>0n&&u>0n&&r>0n&&p>0n&&u*r>p*s.Pq?(u*r-p*s.Pq)/o:0n;o>0n&&u>0n&&r>0n&&p>0n&&s.Pq,X[t.xTokenSymbol]=m,z[t.assetTokenSymbol]=u;let T=(0,b.b)((0,c.ok)(L,[e,"result"]),parseInt((0,c.ok)(N,[e,"result"]).toString()));j[t.vault]=parseFloat(T),j[t.assetTokenSymbol]=j[t.vault],Z[t.vault]=(null==W?void 0:null===(n=W[e])||void 0===n?void 0:n.result)||0,Z[t.assetTokenSymbol]=Z[t.vault],t.isStable?(Q[t.vault]=proxyGetDef({settingsDecimals:10n,...null==K?void 0:null===(a=K[e])||void 0===a?void 0:a.result,Y:(0,c.ok)(q,[e,"result"])},0n),Q[t.assetTokenSymbol]=Q[t.vault]):($[t.vault]=proxyGetDef({settingsDecimals:10n,...null==K?void 0:null===(i=K[e])||void 0===i?void 0:i.result,Y:(0,c.ok)(q,[e,"result"])},0n),$[t.assetTokenSymbol]=$[t.vault])});let te=function(){let{address:t}=(0,l.mA)(),e=(0,T.usePathname)(),n=p.iK[(0,u.BV)()],a=(0,y.useMemo)(()=>n.filter(t=>!t.isStable&&t.ptyPoolAboveAddress&&t.ptyPoolBelowAddress).map(t=>[{poolAddress:t.ptyPoolBelowAddress,stakeSymbol:"USB",matchSymbol:t.assetTokenSymbol,earnSymbol:t.xTokenSymbol,earnForMatchSymbol:t.assetTokenSymbol},{poolAddress:t.ptyPoolAboveAddress,stakeSymbol:t.assetTokenSymbol,matchSymbol:"USB",earnSymbol:t.assetTokenSymbol,earnForMatchSymbol:t.xTokenSymbol}]).flat(),n),{data:s}=(0,m.uX)({watch:!0,enabled:!!t&&"/earn"==e,contracts:[...a.map(e=>{let{poolAddress:n}=e;return{abi:i.aT,address:n,functionName:"userStakingBalance",args:[t]}}),...a.map(e=>{let{poolAddress:n}=e;return{abi:i.aT,address:n,functionName:"earnedMatchedToken",args:[t]}}),...a.map(e=>{let{poolAddress:n}=e;return{abi:i.aT,address:n,functionName:"earnedStakingYields",args:[t]}}),...a.map(e=>{let{poolAddress:n}=e;return{abi:i.aT,address:n,functionName:"earnedMatchingYields",args:[t]}}),...a.map(t=>{let{poolAddress:e}=t;return{abi:i.aT,address:e,functionName:"totalStakingBalance"}})]}),r=(0,y.useMemo)(()=>proxyGetDef({},proxyGetDef({},0n)),[]);return a.forEach((t,e)=>{let{poolAddress:n,stakeSymbol:i,matchSymbol:u,earnSymbol:p}=t,y=(0,c.ok)(s,[e,"result"]),l=(0,c.ok)(s,[e+a.length,"result"]),o=(0,c.ok)(s,[e+2*a.length,"result"]),m=(0,c.ok)(s,[e+3*a.length,"result"]),T=(0,c.ok)(s,[e+4*a.length,"result"]);r[n]={stakeSymbol:i,matchSymbol:u,earnSymbol:p,stake:y,match:l,earn:o,earnForMatch:m,totalStake:T}}),r}();return(0,a.jsx)(f.Provider,{value:{balances:E,totalSupplies:_,prices:X,assetLocked:z,aar:j,vaultUSBTotal:J,vaultsMode:Z,vaultsDiscount:tt,vaultsState:$,stableVaultsState:Q,earns:te},children:e})}}}]);